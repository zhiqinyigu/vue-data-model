!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("vue")):"function"==typeof define&&define.amd?define(["vue"],e):"object"==typeof exports?exports.VDM=e(require("vue")):t.VDM=e(t.Vue)}(self,(function(t){return function(){"use strict";var e={982:function(e){e.exports=t}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,r),i.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return function(){r.r(o),r.d(o,{BaseType:function(){return ft},ComplexType:function(){return lt},SimpleType:function(){return st},baseMixns:function(){return Et},createStateModel:function(){return xt},default:function(){return Ne},fail:function(){return f},getComposeRawMaterial:function(){return Bt},getIdentifier:function(){return R},getParent:function(){return k},getTreeNode:function(){return P},getVue:function(){return i},isScalarNode:function(){return S},isTreeNodeValue:function(){return j},logError:function(){return l},normalizeIdentifier:function(){return a},setVue:function(){return u},toArray:function(){return c},toJSON:function(){return _},types:function(){return Te}});var t,e=r(982),n=r.n(e);function i(){var e=t||n()||window.Vue;if(!e)throw new Error("\n      \"Vue-data-model\" depends on Vue, window.vue was not found.\n      Please use \"Vue.use()\" to inject Vue dependencies in your app.\n      For example:\n\n      import Vue from 'vue';\n      import VDM from 'vue-data-model';\n      Vue.use(VDM);\n    ");return e}function u(e){t=e}function c(t){return Array.prototype.slice.call(t)}function a(t){return""+t}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Illegal state";return new Error("[vue-data-model] "+t)}function l(t){console.error(t)}var s="_$$actualValueForProxySet$$_";function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=1,d=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,"state",0),y(this,"storedValue",void 0),this._id=h++,this.type=e,this.environment=o,this.setParent(n,r),this.state=1}var e,n;return e=t,(n=[{key:"isAlive",get:function(){return 0!==this.state}},{key:"root",get:function(){var t=this.parent;return t?t.root:this}},{key:"value",get:function(){return this.type.getValue(this)}},{key:"setParent",value:function(t,e){this.parent=t,this.subpath=e}},{key:"_destroy",value:function(){this.state=0}}])&&p(e.prototype,n),t}();function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=w(r);if(o){var n=w(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return g(this,t)});function u(t,e,n,r,o){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(c=i.call(this,t,e,n,o))._initialSnapshot=r,c.storedValue=c.type.createNewInstance(c._initialSnapshot),c}return e=u,(n=[{key:"snapshot",get:function(){return this.type.getSnapshot(this)}}])&&v(e.prototype,n),u}(d);function _(){return P(this).snapshot}function j(t){return t&&t.$treenode}function S(t){return t instanceof O}function P(t){return t.$treenode}function R(t){return P(t).identifier}function k(t,e){for(var n=P(t),r=e=e||1;n;){if(0==e--)return n.storedValue;n=n.parent}throw f("Failed to find the parent of ".concat(JSON.stringify(t.$toValue?t.$toValue():t)," at depth ").concat(r))}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t){return t&&"object"===A(t)&&s in t}function N(t){return t instanceof i()}function E(t){return N(t)?x(t):function(t){return JSON.parse(JSON.stringify(t))}(t)}function x(t,e){return JSON.parse(JSON.stringify(function(t){var e={},n=P(t).getChildNodes();return t.$options._each((function(r){var o,i=t[r];if(r in n){var u=n[r];o=S(u)?u.snapshot:i.$toValue()}else o=i;e[r]=o})),e}(t),e))}function I(t){return Object.assign.apply(Object,(e=(t.mixins||[]).map(I),function(t){if(Array.isArray(t))return C(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return C(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([t.data?t.data.call(null):{}]));var e}function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach((function(e){D(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function D(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var $=0,F=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=i();this.cacheId=$++,this.cache=new Map,this.lastCacheModificationPerId=new e({data:{sett:{}}})}var e,n;return e=t,(n=[{key:"updateLastCacheModificationPerId",value:function(t){var e=this.lastCacheModificationPerId.sett[t];this.lastCacheModificationPerId.sett=M(M({},this.lastCacheModificationPerId.sett),{},D({},t,void 0===e?1:e+1))}},{key:"getLastCacheModificationPerId",value:function(t){var e=this.lastCacheModificationPerId.sett[t]||0;return"".concat(this.cacheId,"-").concat(e)}},{key:"addNodeToCache",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.identifierAttribute){var n=t.identifier;if(!n)return;this.cache.has(n)||this.cache.set(n,[]);var r=this.cache.get(n);if(-1!==r.indexOf(t))throw f("Already registered");r.push(t),e&&this.updateLastCacheModificationPerId(n)}}},{key:"removeNodeToCache",value:function(t){if(t.identifierAttribute){var e=t.identifier,n=this.cache.get(e);if(n){var r=n.indexOf(t);-1!==r&&(n.splice(r,1),this.updateLastCacheModificationPerId(e))}}}},{key:"has",value:function(t,e){var n=this.cache.get(e);return!!n&&n.some((function(e){return t.isAssignableFrom(e.type)}))}},{key:"resolve",value:function(t,e){var n=this.cache.get(e);if(!n)return null;var r=n.filter((function(e){return t.isAssignableFrom(e.type)}));switch(r.length){case 0:return null;case 1:return r[0];default:throw f("Cannot resolve a reference to type '".concat(t.name,"' with id: '").concat(e,"' unambigously, there are multiple candidates: ").concat(r.map((function(t){return t.path})).join(", ")))}}}])&&B(e.prototype,n),t}();function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var J=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cache=new Map}var e,n;return e=t,(n=[{key:"addRef",value:function(t,e){if(e){this.cache.has(e)||this.cache.set(e,[]);var n=this.cache.get(e);if(-1!==n.indexOf(t))throw f("Already registered");n.push(t)}}},{key:"removeRefs",value:function(t,e,n){var r=this.cache.get(e);if(r){var o=r.indexOf(t);-1!==o&&(r.splice(o,1),n&&this.updateRefs(e))}}},{key:"updateRefs",value:function(t){var e=this.cache.get(t);e&&e.forEach((function(t){return t.value}))}}])&&z(e.prototype,n),t}();function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q(t,e,n){return(q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Q(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function H(t,e){return!e||"object"!==L(e)&&"function"!=typeof e?K(t):e}function K(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q(t){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var W=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(c,t);var e,n,r,o,u=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Q(r);if(o){var n=Q(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return H(this,t)});function c(t,e,n,r,o){var l;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var s=K(l=u.call(this,t,e,n,o));l._childNodes={},l._initialSnapshot=r;var p=i();l.vm=new p({computed:{snapshot:function(){return t.getSnapshot(s)}}}),e||(l.identifierCache=new F,l.referenceCache=new J);var y=function(t){s.storedValue=t,t.$treenode||(t.$treenode=s,t.$toValue=_)};if(y(t.createNewInstance(l._initialSnapshot,y)),l.identifierAttribute=t.identifierAttribute,l.identifier=null,l.unnormalizedIdentifier=null,l.identifierAttribute&&l._initialSnapshot){var h=l._initialSnapshot[l.identifierAttribute];if(void 0===h&&(h=l.storedValue[l.identifierAttribute]),"string"!=typeof h&&"number"!=typeof h)throw f("Instance identifier '".concat(l.identifierAttribute,"' for type '").concat(l.type.name,"' must be a string or a number"));l.identifier=a(h),l.unnormalizedIdentifier=h}return l.root.identifierCache.addNodeToCache(K(l)),l.root.referenceCache.updateRefs(l.identifier),l}return e=c,(n=[{key:"replaceChildNode",value:function(t,e){this._childNodes[t]=e}},{key:"getChildNodes",value:function(){return this._childNodes}},{key:"removeChildNode",value:function(t){delete this._childNodes[t]}},{key:"_destroy",value:function(){var t=this;Object.keys(this._childNodes).forEach((function(e){return t._childNodes[e]._destroy()})),this.root.identifierCache.removeNodeToCache(this),this.root.referenceCache.updateRefs(this.identifier),q(Q(c.prototype),"_destroy",this).call(this)}},{key:"snapshot",get:function(){return this.vm.snapshot}}])&&U(e.prototype,n),c}(d);function X(t,e,n,r,o){return new O(t,e,n,r,o)}function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e,n){return(Z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ot(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function tt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&et(t,e)}function et(t,e){return(et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ot(t);if(e){var o=ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rt(this,n)}}function rt(t,e){return!e||"object"!==Y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function it(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ct(t,e,n){return e&&ut(t.prototype,e),n&&ut(t,n),t}var at=["is","instantiate","createNewInstance"],ft=function(){function t(){var e,n,r=this;it(this,t),n=void 0,(e="identifierAttribute")in this?Object.defineProperty(this,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[e]=n,at.forEach((function(t){if("function"!=typeof r[t])throw f('BaseType must realize "'.concat(t,'" methods'))}))}return ct(t,[{key:"create",value:function(t,e){return this.instantiate(null,"",t,e).value}},{key:"isAssignableFrom",value:function(t){return t===this}}]),t}(),lt=function(t){tt(n,t);var e=nt(n);function n(){return it(this,n),e.call(this)}return ct(n,[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getDefaultSnapshot(),e=arguments.length>1?arguments[1]:void 0;return Z(ot(n.prototype),"create",this).call(this,t,e)}},{key:"instantiate",value:function(t,e,n,r){return function(t,e,n,r,o){return new W(t,e,n,r,o)}(this,t,e,n,r)}},{key:"getDefaultSnapshot",value:function(){return{}}},{key:"getValue",value:function(t){return t.storedValue}},{key:"getSnapshot",value:function(t){return JSON.parse(JSON.stringify(t.storedValue))}}]),n}(ft),st=function(t){tt(n,t);var e=nt(n);function n(){return it(this,n),e.apply(this,arguments)}return ct(n,[{key:"createNewInstance",value:function(t){return t}},{key:"instantiate",value:function(t,e,n,r){return X(this,t,e,n,r)}},{key:"getDefaultSnapshot",value:function(){}},{key:"getValue",value:function(t){return t.storedValue}},{key:"getSnapshot",value:function(t){return t.storedValue}}]),n}(ft),pt=function(t){return t},yt={enumerable:!0,configurable:!0,get:null,set:null};function ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var dt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=this;e._dormancy=!0,e.data={},e._each=e._each.bind(e),e._each((function(t,n,r,o){!function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:pt;yt.get=function(){return e[n]},yt.set=function(t){e[n]=r(t)},Object.defineProperty(t,n,yt)}(e.data,n,t,o?function(n){if(!e._dormancy){if(T(n)){var o=n[s];return delete n[s],o}return e._createChildNode(r,t,n).value}}:pt),e.data[t]=void 0}))}var e,n;return e=t,(n=[{key:"_createChildNode",value:function(t,e,n){var r=P(this.$vm),o=t.instantiate(r,"".concat(r.subpath,"/").concat(e),n);return r.replaceChildNode(e,o),o}},{key:"_each",value:function(t){var e=this._dataTypes||I(this.constructor.prototype);for(var n in e)if(!1===function(r){return t(n,e,r,r instanceof ft,!1)}.call(this,e[n]))break}},{key:"_calculateInitializeData",value:function(t,e){var n=this,r={};return t=t||{},n._each((function(o,i,u,c,a){if(r[o]=o in t?t[o]:c?u.getDefaultSnapshot():u,e){var f=!0===e;a?(f||"computed"===e)&&(n.$vm[o]=r[o]):(f||"data"===e)&&(n.data[o]=r[o])}})),r}}])&&ht(e.prototype,n),t}();function bt(t){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mt(t,e){return(mt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gt(t,e){return!e||"object"!==bt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wt(t){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mt(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=wt(r);if(o){var n=wt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return gt(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this)).validType=t,e}return e=u,(n=[{key:"createNewInstance",value:function(t){if(this.is(t))return t;throw f("value `".concat(t,"` is not assignable to type: `").concat(this.validType,"`"))}},{key:"is",value:function(t){return this.validType===bt(t)}}])&&vt(e.prototype,n),u}(st);function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function St(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rt(t,e)}function Rt(t,e){return(Rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=At(t);if(e){var o=At(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ct(this,n)}}function Ct(t,e){return!e||"object"!==Tt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function At(t){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Nt=function(t,e){return e},Et={methods:{$assign:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;if(t&&"object"===Tt(t))for(var n in t)n in this.$data&&(this[n]=e(n,t[n]))}}};function xt(t){var e,n=function(t){Pt(n,t);var e=kt(n);function n(){return St(this,n),e.apply(this,arguments)}return n}(dt);return Object.assign(n.prototype,t,{mixins:[Et].concat((e=t.mixins||[],function(t){if(Array.isArray(t))return jt(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return jt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jt(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}),n}var It=function(t){Pt(o,t);var e,n,r=kt(o);function o(t){var e;return St(this,o),(e=r.call(this))._model_=xt(t),e}return e=o,(n=[{key:"createNewInstance",value:function(t,e){var n,r=this,o=new r._model_;o.mixins=[{beforeCreate:function(){o.$vm=this,this.__model__=r._model_,e&&e(this),o._each((function(t,e,n){if(n instanceof Ot)return r.identifierAttribute=t,!1}));try{o._dormancy=!1,o._calculateInitializeData(t||{},"data")}catch(t){n=t}},created:function(){this._beforeCreateData&&this.$assign(this._beforeCreateData)}}].concat(o.mixins);var u=new(i())(o);if(n)throw n;return u}},{key:"getSnapshot",value:function(t){return x(t.storedValue)}},{key:"is",value:function(t){if(t.__model__)return t.__model__===this._model_;try{return this.create(t),!0}catch(t){return!1}}}])&&_t(e.prototype,n),o}(lt);function Vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vt(Object(n),!0).forEach((function(e){Dt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Dt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bt=function(){return Object.assign({mixins:c(arguments).map((function(t){return Mt(Mt({},t._model_.prototype),{},{mixins:t._model_.prototype.mixins.filter((function(t){return t!==Et}))})}))})};function $t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ft(t,e,n){return(Ft=zt()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Jt(o,n.prototype),o}).apply(null,arguments)}function zt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Jt(t,e){return(Jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Lt=Array.prototype.slice,Ut=function(t){return t?Lt.call(t):t},qt={_overwriteParams:function(t){return t},push:function(){var t=this,e=arguments;return this._willChange&&this._willChange("push",e),this.__proto__.push.apply(this,Ut(arguments).map((function(n,r){return t._overwriteParams(n,r,"push",e)})))},splice:function(t,e){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var u=arguments;return this._willChange&&this._willChange("splice",u),this.__proto__.splice.apply(this,[t,arguments.length>=2?e:1/0].concat(Ut(o).map((function(t,e){return n._overwriteParams(t,e,"splice",u)}))))}};function Gt(){var t=Ft(Array,Array.prototype.slice.call(arguments));for(var e in Object.setPrototypeOf(t,Gt.prototype),qt)t[e]=qt[e];return t}Object.setPrototypeOf(Gt.prototype,Array.prototype),Gt.clone=function(t,e){var n=new Gt;return e&&(n._overwriteParams=e._overwriteParams,n._willChange=e._willChange,e.created&&e.created.call(n)),n.push.apply(n,function(t){return function(t){if(Array.isArray(t))return $t(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return $t(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$t(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Array.prototype.slice.call(t))),n};var Ht=Gt;function Kt(t){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xt(t,e){return(Xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yt(t,e){return!e||"object"!==Kt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zt(t){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var te=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xt(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Zt(r);if(o){var n=Zt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Yt(this,t)});function u(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),e=i.call(this),!t)throw f("expected type as argument 1, got ".concat(t," instead"));return e._subType=t,e}return e=u,(n=[{key:"createNewInstance",value:function(t,e){var n=this._subType;return Ht.clone(t,{created:function(){e&&e(this)},_willChange:function(t,e){var n=P(this),r=this.length;switch(t){case"splice":!function(){var t,o=function(t){if(Array.isArray(t))return t}(t=e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Qt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],u=o[1],c=o.slice(2),a=0,f=c.length;if("number"==typeof i){for(var l=(u="number"==typeof u?u:1/0)-1;l>=0;l--){if(i+l>r)return;a++,!(c.length>=l+1&&T(c[l]))&&(n.getChildNodes()[i+l]._destroy(n),n.removeChildNode(i+l))}for(var s={},p=r-i-a;p>0;p--){var y=i+a+p-1,h=i+f-1+p;y!==h&&(s[h]=n.getChildNodes()[y],n.removeChildNode(y))}Object.keys(s).forEach((function(t){return n.replaceChildNode(t,s[t])}))}}()}},_overwriteParams:function(t,e,r,o){var i=P(this),u=this.length;switch(r){case"splice":e+=o[0]||0;break;default:e+=u}if(T(t)){var c=t[s];return delete t[s],c}var a=n.instantiate(i,"".concat(i.subpath,"/").concat(e),t);return i.replaceChildNode(e,a),a.value}})}},{key:"getSnapshot",value:function(t){var e=t.getChildNodes();return t.storedValue.map((function(t,n){var r=e[n];return S(r)?r.snapshot:E(t)}))}},{key:"is",value:function(t){return t instanceof Ht&&!!t._overwriteParams}}])&&Wt(e.prototype,n),u}(lt);function ee(t){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function re(t,e){return(re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oe(t,e){return!e||"object"!==ee(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ie(t){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ue=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&re(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ie(r);if(o){var n=ie(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return oe(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this)).literal=t,e}return e=u,(n=[{key:"createNewInstance",value:function(t){if(this.is(t))return this.literal;throw f("value `".concat(t,"` is not assignable to type: `").concat(this.literal,"`"))}},{key:"is",value:function(t){return this.literal===t}}])&&ne(e.prototype,n),u}(st);function ce(t){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fe(t,e){return(fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function le(t,e){return!e||"object"!==ce(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function se(t){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fe(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=se(r);if(o){var n=se(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return le(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this))._types=t,e}return e=u,(n=[{key:"isAssignableFrom",value:function(t){return this._types.some((function(e){return e.isAssignableFrom(t)}))}},{key:"createNewInstance",value:function(t){for(var e=this._types,n=0;n<e.length;n++)try{return e[n].create(t)}catch(t){}throw f("Union could not determine the type")}},{key:"getSnapshot",value:function(t){return t.type.getSnapshot(t)}},{key:"is",value:function(t){for(var e=this._types,n=0;n<e.length;n++)if(e[n].is(t))return!0;return!1}}])&&ae(e.prototype,n),u}(lt);function ye(t){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function he(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function de(t,e){return(de=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function be(t,e){return!e||"object"!==ye(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ve(t){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var me=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&de(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ve(r);if(o){var n=ve(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return be(this,t)});function u(t,e){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),n=i.call(this),void 0===e)throw f("expected type or literal as argument 1, vue component options as argument 2, but only one was received.");n._model_=xt(Object.assign({},e,{data:function(){return{value:t}}}));var r=t instanceof ft,o=ye(t),c=n._model_.prototype._calculateInitializeData;return n._model_.prototype._calculateInitializeData=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),u=1;u<n;u++)i[u-1]=arguments[u];return c.call.apply(c,[this,{value:r?t.is(e)?e:t.create(e,this):ye(e)===ye(t)||"undefined"===o||null===t?e:t}].concat(i))},n}return e=u,(n=[{key:"createNewInstance",value:function(){return It.prototype.createNewInstance.apply(this,arguments)}},{key:"getSnapshot",value:function(t){return E(t.storedValue.value)}},{key:"is",value:function(t){return It.prototype.is.call(this,t)}}])&&he(e.prototype,n),u}(lt);function ge(t){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function we(t,e){return(we=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Oe(t,e){return!e||"object"!==ge(e)&&"function"!=typeof e?_e(t):e}function _e(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function je(t){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Re(t,e,n){return e&&Pe(t.prototype,e),n&&Pe(t,n),t}function ke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ce=function(){function t(e,n){if(Se(this,t),ke(this,"identifier",void 0),ke(this,"resolvedReference",void 0),this.targetType=n,function(t){return"string"==typeof t||"number"==typeof t}(e))this.identifier=e;else if(j(e)){var r=P(e);if(!r.identifierAttribute)throw f("Can only store references with a defined identifier attribute.");var o=r.unnormalizedIdentifier;null==o&&l(f("Can only store references to tree nodes with a defined identifier.")),this.identifier=o}else l(f("Can only store references to tree nodes or identifiers, got: '".concat((i=e,JSON.stringify(N(i)?x(i):i)),"'")));var i}return Re(t,[{key:"updateResolvedReference",value:function(t){var e=a(this.identifier),n=t.root,r=n.identifierCache.getLastCacheModificationPerId(e);if(!this.resolvedReference||this.resolvedReference.lastCacheModification!==r){var o=this.targetType,i=n.identifierCache.resolve(o,e);i||(i={}),this.resolvedReference={node:i,lastCacheModification:r}}}}]),t}(),Ae=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&we(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=je(e);if(n){var o=je(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Oe(this,t)});function o(t){var e;return Se(this,o),ke(_e(e=r.call(this)),"targetType",void 0),e.targetType=t,e}return Re(o,[{key:"isAssignableFrom",value:function(t){return this.targetType.isAssignableFrom(t)}},{key:"instantiate",value:function(t,e,n,r){var o,u=j(n)?R(n):S(n)?n.identifier:n,c=function(t,e,n){var r=new Ce(t,e),o=new(i())({data:{isMounted:!1},computed:{ref:function(){return r},resolvedValue:function(){if(this.isMounted){r.updateResolvedReference(this.node);var t=r.resolvedReference.node.value;return n&&n(t),t}}},watch:{resolvedValue:function(){}}});return o.node=null,o}(u,this.targetType,(function(n){var r=e.match(/([^/]+)$/)[0],i=t.storedValue;o!==n&&(o=n,i[r]!==n&&(n?n[s]=n:(a[s]=n,n=a),r in i?i instanceof Array?i.splice(+r,1,n):i[r]=n:(i._beforeCreateData=i._beforeCreateData||{},i._beforeCreateData[r]=n)))})),a=X(this,t,e,c,r);return a.identifier=u,c.node=a,c.isMounted=!0,this.watchTargetNodeForInvalidations(a,u,t),a}},{key:"watchTargetNodeForInvalidations",value:function(t,e,n){t.root.referenceCache.addRef(t,e);var r=t._destroy;t._destroy=function(){r.apply(this,arguments),n.root.referenceCache.removeRefs(this,e)}}},{key:"getValue",value:function(t){if(t.isAlive)return t.storedValue.resolvedValue}},{key:"getSnapshot",value:function(t){return t.storedValue.ref.identifier}},{key:"is",value:function(){}}]),o}(st),Te={vue:function(t){return new It(t)},vo:function(t,e){return new me(t,e)},array:function(t){return new te(t)},literal:function(t){return new ue(t)},union:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new pe(e)},compose:function(){return Te.vue(Bt.apply(void 0,arguments))},composeVo:function(){return Te.vo(void 0,Bt.apply(void 0,arguments))},identifier:new Ot("string"),identifierNumber:new Ot("number"),reference:function(t){return new Ae(t)}},Ne={install:u}}(),o}()}));