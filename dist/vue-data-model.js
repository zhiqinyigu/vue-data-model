!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("vue")):"function"==typeof define&&define.amd?define(["vue"],e):"object"==typeof exports?exports.VDM=e(require("vue")):t.VDM=e(t.Vue)}(self,(function(t){return function(){"use strict";var e={982:function(e){e.exports=t}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,r),i.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return function(){r.r(o),r.d(o,{BaseType:function(){return it},ComplexType:function(){return ut},EventHandlers:function(){return sr},LiteVue:function(){return oe},SimpleType:function(){return at},cannotDetermineSubtype:function(){return Gn},createLiteVue:function(){return ie},default:function(){return lr},destroy:function(){return g},detach:function(){return m},devMode:function(){return Xn},fail:function(){return ur},getEnv:function(){return j},getIdentifier:function(){return S},getParent:function(){return P},getRoot:function(){return k},getTreeNode:function(){return w},getTreeNodeSafe:function(){return _},getType:function(){return O},getVue:function(){return Zn},isArray:function(){return rr},isPlainObject:function(){return or},isPrimitive:function(){return ir},isScalarNode:function(){return d},isTreeNodeValue:function(){return v},isType:function(){return ar},isTypeCheckingEnabled:function(){return Qn},logError:function(){return cr},normalizeIdentifier:function(){return nr},resolveContext:function(){return re},resolveDep:function(){return _t},setVue:function(){return tr},toArray:function(){return er},toJSON:function(){return b},types:function(){return Ln}});var t=r(982),e=r.n(t),n="beforeDestroy";function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=1,c=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,"state",0),u(this,"storedValue",void 0),this._id=a++,this.type=e,this.environment=o,this.baseSetParent(n,r),this.state=1}var e,r;return e=t,(r=[{key:"isAlive",get:function(){return 0!==this.state}},{key:"root",get:function(){var t=this.parent;return t?t.root:this}},{key:"value",get:function(){return this.type.getValue(this)}},{key:"isRoot",get:function(){return null===this.parent}},{key:"fireInternalHook",value:function(t){this._hookSubscribers&&this._hookSubscribers.emit(t,this,t)}},{key:"registerHook",value:function(t,e){return this._hookSubscribers||(this._hookSubscribers=new sr),this._hookSubscribers.register(t,e)}},{key:"baseSetParent",value:function(t,e){this.parent=t,this.subpath=e}},{key:"baseFinalizeDeath",value:function(){this._hookSubscribers&&this._hookSubscribers.clearAll(),this.baseSetParent(null,""),this.state=0}},{key:"baseAboutToDie",value:function(){this.fireHook(n)}}])&&i(e.prototype,r),t}();function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(r);if(o){var n=y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function u(t,e,n,r,o){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(a=i.call(this,t,e,n,o))._initialSnapshot=r,a.storedValue=a.type.createNewInstance(a._initialSnapshot),a}return e=u,(n=[{key:"snapshot",get:function(){return this.type.getSnapshot(this)}},{key:"die",value:function(){this.isAlive&&2!==this.state&&(this.aboutToDie(),this.finalizeDeath())}},{key:"aboutToDie",value:function(){this.baseAboutToDie()}},{key:"finalizeDeath",value:function(){this.baseFinalizeDeath()}},{key:"fireHook",value:function(t){this.fireInternalHook(t)}}])&&s(e.prototype,n),u}(c);function b(){return w(this).snapshot}function v(t){return t&&t.$treenode}function d(t){return t instanceof h}function m(t){return w(t).detach(),t}function g(t){var e=w(t);e.isRoot?e.die():e.parent&&e.parent.removeChild(e.subpath)}function w(t){return t.$treenode}function O(t){return w(t).type}function _(t){return t&&t.$treenode||null}function S(t){return w(t).identifier}function j(t){return w(t).root.environment||{}}function k(t){var e=w(t);if(e)return e.root.storedValue}function P(t,e){for(var n=w(t),r=e=e||1;n;){if(0==e--)return n.storedValue;n=n.parent}throw ur("Failed to find the parent of ".concat(JSON.stringify(t.$toValue?t.$toValue():t)," at depth ").concat(r))}var R=[];function T(t){return"function"==typeof t?"<function".concat(t.name?" "+t.name:"",">"):v(t)?"<".concat(t,">"):"`".concat(function(t){try{return JSON.stringify(t)}catch(t){return"<Unserializable: ".concat(t,">")}}(t),"`")}function C(t){var e=t.value,n=t.context[t.context.length-1].type,r=t.context.map((function(t){return t.path})).filter((function(t){return t.length>0})).join("/"),o=r.length>0?'at path "/'.concat(r,'" '):"",i=v(e)?"value of type ".concat(w(e).type.name,":"):ir(e)?"value":"snapshot",u=n&&v(e)&&n.is(w(e).snapshot);return"".concat(o).concat(i," ").concat(T(e)," is not assignable ").concat(n?"to type: `".concat(n.name,"`"):"")+(t.message?" (".concat(t.message,")"):"")+(n?ir(e)?".":", expected an instance of `".concat(n.name,"` or a snapshot like `").concat(n.describe(),"` instead.")+(u?" (Note that a snapshot of the provided value is compatible with the targeted type)":""):".")}function V(t,e,n){return t.concat([{path:e,type:n}])}function A(){return R}function E(t,e,n){return[{context:t,value:e,message:n}]}function x(t){return t.reduce((function(t,e){return t.concat(e)}),[])}function N(t,e){Qn()&&function(t,e){var n=t.validate(e,[{path:"",type:t}]);if(n.length>0)throw ur(function(t,e,n){var r;if(0!==n.length)return"Error while converting ".concat((r=T(e),r.length<280?r:"".concat(r.substring(0,272),"......").concat(r.substring(r.length-8)))," to `").concat(t.name,"`:\n\n    ")+n.map(C).join("\n    ")}(t,e,n))}(t,e)}function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var I=0,B=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=Zn();this.cacheId=I++,this.cache=new Map,this.lastCacheModificationPerId=e.observable({sett:{}})}var e,n;return e=t,(n=[{key:"updateLastCacheModificationPerId",value:function(t){var e=this.lastCacheModificationPerId.sett[t];Zn().set(this.lastCacheModificationPerId.sett,t,void 0===e?1:e+1)}},{key:"getLastCacheModificationPerId",value:function(t){var e=this.lastCacheModificationPerId.sett[t]||0;return"".concat(this.cacheId,"-").concat(e)}},{key:"addNodeToCache",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.identifierAttribute){var n=t.identifier;if(!n)return;this.cache.has(n)||this.cache.set(n,[]);var r=this.cache.get(n);if(-1!==r.indexOf(t))throw ur("Already registered");r.push(t),e&&this.updateLastCacheModificationPerId(n)}}},{key:"removeNodeToCache",value:function(t){if(t.identifierAttribute){var e=t.identifier,n=this.cache.get(e);if(n){var r=n.indexOf(t);-1!==r&&(n.splice(r,1),this.updateLastCacheModificationPerId(e))}}}},{key:"has",value:function(t,e){var n=this.cache.get(e);return!!n&&n.some((function(e){return t.isAssignableFrom(e.type)}))}},{key:"resolve",value:function(t,e){var n=this.cache.get(e);if(!n)return null;var r=n.filter((function(e){return t.isAssignableFrom(e.type)}));switch(r.length){case 0:return null;case 1:return r[0];default:throw ur("Cannot resolve a reference to type '".concat(t.name,"' with id: '").concat(e,"' unambigously, there are multiple candidates: ").concat(r.map((function(t){return t.path})).join(", ")))}}}])&&D(e.prototype,n),t}();function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var M=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cache=new Map}var e,n;return e=t,(n=[{key:"addRef",value:function(t,e){if(e){this.cache.has(e)||this.cache.set(e,[]);var n=this.cache.get(e);if(-1!==n.indexOf(t))throw ur("Already registered");n.push(t)}}},{key:"removeRefs",value:function(t,e,n){var r=this.cache.get(e);if(r){var o=r.indexOf(t);-1!==o&&(r.splice(o,1),n&&this.updateRefs(e))}}},{key:"updateRefs",value:function(t){var e=this.cache.get(t);e&&e.forEach((function(t){return t.value}))}}])&&$(e.prototype,n),t}();function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function z(t,e){return(z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function J(t,e){return!e||"object"!==H(e)&&"function"!=typeof e?L(t):e}function L(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var K=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=W(r);if(o){var n=W(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return J(this,t)});function u(t,e,n,r,o){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var c=L(a=i.call(this,t,e,n,o));a._childNodes={},a._initialSnapshot=r,e||(a.identifierCache=new B,a.referenceCache=new M);var f=function(t){c.storedValue=t,t.$treenode||(t.$treenode=c,t.$toValue=b,t.toJSON=b)};if(f(t.createNewInstance(a._initialSnapshot,f)),a.identifierAttribute=t.identifierAttribute,a.identifier=null,a.unnormalizedIdentifier=null,a.identifierAttribute&&a._initialSnapshot){var s=a._initialSnapshot[a.identifierAttribute];if(void 0===s&&(s=a.storedValue[a.identifierAttribute]),"string"!=typeof s&&"number"!=typeof s)throw ur("Instance identifier '".concat(a.identifierAttribute,"' for type '").concat(a.type.name,"' must be a string or a number"));a.identifier=nr(s),a.unnormalizedIdentifier=s}return a.root.identifierCache.addNodeToCache(L(a)),a.root.referenceCache.updateRefs(a.identifier),a}return e=u,(n=[{key:"replaceChildNode",value:function(t,e){this._childNodes[t]=e}},{key:"getChildNodes",value:function(){return this._childNodes}},{key:"removeChildNode",value:function(t){delete this._childNodes[t]}},{key:"getChildren",value:function(){var t=this._childNodes;return Object.keys(t).map((function(e){return t[e]}))}},{key:"clearParent",value:function(){if(this.parent){this.fireHook("beforeDetach");var t=this.state;this.state=2;var e=this.root,n=e.environment,r=e.identifierCache.splitCache(this);try{this.parent.removeChild(this.subpath),this.baseSetParent(null,""),this.environment=n,this.identifierCache=r}finally{this.state=t}}}},{key:"fireHook",value:function(t){this.fireInternalHook(t);var e=this.storedValue&&"object"===H(this.storedValue)&&this.storedValue[t];"function"==typeof e&&e.apply(this.storedValue)}},{key:"detach",value:function(){if(!this.isAlive)throw ur("Error while detaching, node is not alive.");this.clearParent()}},{key:"die",value:function(){this.isAlive&&2!==this.state&&(this.aboutToDie(),this.finalizeDeath())}},{key:"aboutToDie",value:function(){this.getChildren().forEach((function(t){t.aboutToDie()})),this.baseAboutToDie()}},{key:"finalizeDeath",value:function(){this.getChildren().forEach((function(t){t.finalizeDeath()})),this.root.identifierCache.removeNodeToCache(this),this.root.referenceCache.updateRefs(this.identifier),this.baseFinalizeDeath()}},{key:"snapshot",get:function(){return this.type.getSnapshot(this)}}])&&F(e.prototype,n),u}(c);function U(t,e,n,r,o){return new h(t,e,n,r,o)}function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y(t,e,n){return(Y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=tt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function G(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q(t,e)}function Q(t,e){return(Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=tt(t);if(e){var o=tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z(this,n)}}function Z(t,e){return!e||"object"!==q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tt(t){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rt(t,e,n){return e&&nt(t.prototype,e),n&&nt(t,n),t}var ot=["instantiate"],it=function(){function t(e){var n,r,o=this;et(this,t),r=void 0,(n="identifierAttribute")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this.name=e,ot.forEach((function(t){if("function"!=typeof o[t])throw ur('BaseType must realize "'.concat(t,'" methods'))}))}return rt(t,[{key:"create",value:function(t,e){return this.instantiate(null,"",t,e).value}},{key:"isAssignableFrom",value:function(t){return t===this}},{key:"validate",value:function(t,e){if(_(t)){var n=O(t);return this.isAssignableFrom(n)?A():E(e,t)}return this.isValidSnapshot(t,e)}},{key:"is",value:function(t){return 0===this.validate(t,[{path:"",type:this}]).length}}]),t}(),ut=function(t){G(n,t);var e=X(n);function n(){return et(this,n),e.apply(this,arguments)}return rt(n,[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getDefaultSnapshot(),e=arguments.length>1?arguments[1]:void 0;return Y(tt(n.prototype),"create",this).call(this,t,e)}},{key:"instantiate",value:function(t,e,n,r){return function(t,e,n,r,o){return new K(t,e,n,r,o)}(this,t,e,n,r)}},{key:"getDefaultSnapshot",value:function(){return{}}},{key:"getValue",value:function(t){return t.storedValue}},{key:"getSnapshot",value:function(t){return JSON.parse(JSON.stringify(t.storedValue))}}]),n}(it),at=function(t){G(n,t);var e=X(n);function n(){return et(this,n),e.apply(this,arguments)}return rt(n,[{key:"createNewInstance",value:function(t){return t}},{key:"instantiate",value:function(t,e,n,r){return U(this,t,e,n,r)}},{key:"getDefaultSnapshot",value:function(){}},{key:"getValue",value:function(t){return t.storedValue}},{key:"getSnapshot",value:function(t){return t.storedValue}}]),n}(it);function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function st(t,e){return(st=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lt(t,e){return!e||"object"!==ct(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pt(t){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yt(t){return t}var ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&st(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=pt(r);if(o){var n=pt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return lt(this,t)});function u(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t)).checker=e,r.initializer=n||yt,r}return e=u,(n=[{key:"describe",value:function(){return this.name}},{key:"createNewInstance",value:function(t){if(this.is(t))return this.initializer(t);throw ur("Value is not a ".concat(this.name))}},{key:"is",value:function(t){return this.checker(t)}},{key:"isValidSnapshot",value:function(t,e){if(ir(t)&&this.checker(t))return A();var n="Date"===this.name?"Date or a unix milliseconds timestamp":this.name;return E(e,t,"Value is not a ".concat(n))}}])&&ft(e.prototype,n),u}(at),bt=new ht("string",(function(t){return"string"==typeof t})),vt=new ht("number",(function(t){return"number"==typeof t})),dt=new ht("boolean",(function(t){return"boolean"==typeof t})),mt=new ht("null",(function(t){return null===t})),gt=new ht("undefined",(function(t){return void 0===t})),wt="_$$actualValueForProxySet$$_",Ot={Watcher:null,watch:null,Dep:null,Observer:null,pushTarget:null,popTarget:null};function _t(){if(!Ot.Watcher){var t,e=new(Zn())({data:{obj:{}},computed:{c:function(){return 1}}});Ot.Watcher=e._computedWatchers.c.constructor,Ot.watch=function(t,n,r,o){return e.$watch.call(t,n,r,o)},Ot.Dep=e.obj.__ob__.dep.constructor,Ot.Observer=e.$data.__ob__.constructor,Ot.pushTarget=function(e){var n=Ot.Dep;t=n.target,n.target=""},Ot.popTarget=function(){var e=Ot.Dep;""===e.target&&(e.target=t)}}return Ot}function St(t){return t}function jt(t){return t instanceof _t().Observer}var kt=Object.prototype.hasOwnProperty;function Pt(t,e){return kt.call(t,e)}function Rt(t){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tt(t){return t&&"object"===Rt(t)&&wt in t}function Ct(t){return jt(t)?Vt(t):function(t){return null==t?t:JSON.parse(JSON.stringify(t))}(t)}function Vt(t,e){return JSON.parse(JSON.stringify(function(t){var e=t.$options._dataKeys,n=w(t).getChildNodes();return e.reduce((function(e,r){var o,i=t[r];if(r in n){var u=n[r];o=d(u)?u.snapshot:i.$toValue()}else o=i;return e[r]=o,e}),{})}(t),e))}function At(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Et(t,e,n){return(Et=xt()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Nt(o,n.prototype),o}).apply(null,arguments)}function xt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Nt(t,e){return(Nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Dt=Array.prototype.slice,It=function(t){return t?Dt.call(t):t},Bt={_overwriteParams:function(t){return t},push:function(){var t=this,e=arguments;return this._willChange&&this._willChange("push",e),this.__proto__.push.apply(this,It(arguments).map((function(n,r){return t._overwriteParams(n,r,"push",e)})))},splice:function(t,e){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var u=arguments;return this._willChange&&this._willChange("splice",u),this.__proto__.splice.apply(this,[t,arguments.length>=2?e:1/0].concat(It(o).map((function(t,e){return n._overwriteParams(t,e,"splice",u)}))))}};function $t(){var t=Et(Array,Array.prototype.slice.call(arguments));for(var e in Bt)t[e]=Bt[e];return t}$t.clone=function(t,e){var n=new $t;return e&&(n._overwriteParams=e._overwriteParams,n._willChange=e._willChange,e.created&&e.created.call(n)),n.push.apply(n,function(t){return function(t){if(Array.isArray(t))return At(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return At(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?At(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t)),n};var Mt=$t;function Ht(t){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jt(t,e){return(Jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Lt(t,e){return!e||"object"!==Ht(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wt(t){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Kt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jt(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Wt(r);if(o){var n=Wt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Lt(this,t)});function u(t,e){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),n=i.call(this,t),!e)throw ur("expected type as argument 1, got ".concat(e," instead"));return n._subType=e,n}return e=u,(n=[{key:"describe",value:function(){return this._subType.describe()+"[]"}},{key:"createNewInstance",value:function(t,e){var n=this._subType;return Mt.clone(t,{created:function(){e&&e(this)},_willChange:function(t,e){var n=w(this),r=this.length;switch(t){case"splice":!function(){var t,o=function(t){if(Array.isArray(t))return t}(t=e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Ft(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ft(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],u=o[1],a=o.slice(2),c=0,f=a.length;if("number"==typeof i){for(var s=(u="number"==typeof u?u:1/0)-1;s>=0;s--){if(i+s>r)return;c++,!(a.length>=s+1&&Tt(a[s]))&&(n.getChildNodes()[i+s].die(),n.removeChildNode(i+s))}for(var l={},p=r-i-c;p>0;p--){var y=i+c+p-1,h=i+f-1+p;y!==h&&(l[h]=n.getChildNodes()[y],n.removeChildNode(y))}Object.keys(l).forEach((function(t){return n.replaceChildNode(t,l[t])}))}}()}},_overwriteParams:function(t,e,r,o){var i=w(this),u=this.length;switch(r){case"splice":e+=o[0]||0;break;default:e+=u}if(Tt(t)){var a=t[wt];return delete t[wt],a}var c=n.instantiate(i,"".concat(i.subpath,"/").concat(e),t);return i.replaceChildNode(e,c),c.value}})}},{key:"getSnapshot",value:function(t){var e=t.getChildNodes();return t.storedValue.map((function(t,n){var r=e[n];return d(r)?r.snapshot:Ct(t)}))}},{key:"isValidSnapshot",value:function(t,e){var n=this;return rr(t)?x(t.map((function(t,r){return n._subType.validate(t,V(e,""+r,n._subType))}))):E(e,t,"Value is not an array")}}])&&zt(e.prototype,n),u}(ut);function Ut(t,e,n){n&&n[e]&&n[e].call(t),qt(t,e)}function qt(t,e){var n=_t(),r=n.pushTarget,o=n.popTarget;r();var i=t.$options[e];if(i)for(var u=0,a=i.length;u<a;u++)i[u].call(t);o()}var Yt={lazy:!0},Gt={enumerable:!0,configurable:!0,get:St,set:St};function Qt(t,e,n,r){Gt.get=function(){return this[e][n]},Gt.set=r||function(t){this[e][n]=t},Object.defineProperty(t,n,Gt)}function Xt(t,e,n){var r;"function"==typeof n?(Gt.get=Zt(e),Gt.set=St):(Gt.get=n.get?!1!==n.cache?Zt(e):(r=n.get,function(){return r.call(this,this)}):St,Gt.set=n.set||St),Object.defineProperty(t,e,Gt)}function Zt(t){var e=_t().Dep;return function(){var n=this._computedWatchers&&this._computedWatchers[t];if(n)return n.dirty&&n.evaluate(),e.target&&n.depend(),n.value}}function te(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ne=1;function re(t){var e=Zn(),n={};t&&t._isComponent?console.error("options._isComponent"):n=e.util.mergeOptions(n,t||{},n);var r=n.data;return r=Object.assign({},"function"==typeof r?r():r),n._dataKeys=Object.keys(r),n._getData=function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?te(Object(n),!0).forEach((function(e){ee(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},r)},{data:r,options:n}}function oe(t,e,n){var r=this;e=e||re(t),r.$options=e.options,r._uid=ne++,r._isVue=!0,function(t){t._isDestroyed=!1,t._isBeingDestroyed=!1}(r),Ut(r,"beforeCreate",n),function(t,e){t._watchers=[];var n=t.$options;n.methods&&function(t,e){var n;for(var r in t.$options.props,e)t[r]="function"!=typeof e[r]?St:(n=t,e[r].bind(n))}(t,n.methods),function(t){var e,n=Zn(),r=t.$options._getData();or(r)||(r={}),t._data=r;for(var o=Object.keys(r),i=t.$options.props,u=(t.$options.methods,o.length);u--;){var a=o[u];i&&Pt(i,a)||(e=void 0,36===(e=(a+"").charCodeAt(0))||95===e)||Qt(t,"_data",a)}n.observable(r)}(t),Ut(t,"inited",e),n.computed&&function(t,e){var n=_t().Watcher,r=t._computedWatchers=Object.create(null);for(var o in e){var i=e[o],u="function"==typeof i?i:i.get;r[o]=new n(t,u||St,St,Yt),o in t||Xt(t,o,i)}}(t,n.computed)}(r,n),Ut(r,"created",n)}function ie(t,e,n){return new oe(t,e,n)}function ue(t){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ce(t,e){return(ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fe(t,e){return!e||"object"!==ue(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function se(t){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function le(t){return"string"==typeof t||"number"==typeof t}oe.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){qt(t,"beforeDestroy"),t._isBeingDestroyed=!0,t._watcher&&t._watcher.teardown();for(var e=t._watchers.length;e--;)t._watchers[e].teardown();t.__ob__&&t.__ob__.vmCount--,t._isDestroyed=!0,qt(t,"destroyed")}};var pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ce(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=se(r);if(o){var n=se(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return fe(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,"identifier")).validType=t,e}return e=u,(n=[{key:"describe",value:function(){return"identifier"}},{key:"createNewInstance",value:function(t){return N(this,t),t}},{key:"isValidSnapshot",value:function(t,e){return ue(t)!==this.validType?E(e,t,"Value is not a valid ".concat(this.describe(),", expected a ").concat(this.validType)):A()}}])&&ae(e.prototype,n),u}(at),ye=new pe("string"),he=new pe("number");function be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ve(t,e){return(ve=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function de(t,e){return!e||"object"!==ge(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function me(t){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ge(t){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var we=function(t,e){return e};function Oe(t){return re(t=Object.assign({},t))}oe.prototype.$assign=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we,n=this.$options._dataKeys;if(t&&"object"===ge(t))for(var r in t)-1!==n.indexOf(r)&&(this[r]=e(r,t[r]))};var _e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ve(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=me(r);if(o){var n=me(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return de(this,t)});function u(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var n=(e=i.call(this,t.name||"AnonymousModel")).properties={},r=(e.context=Oe(t)).data;for(var o in r){var a=r[o];ar(a)&&(n[o]=a,r[o]=void 0,!e.identifierAttribute&&a instanceof pe&&(e.identifierAttribute=o))}return e.propertyNames=Object.keys(e.properties),e}return e=u,(n=[{key:"describe",value:function(){var t=this;return"{ "+this.propertyNames.map((function(e){return e+": "+t.properties[e].describe()})).join("; ")+" }"}},{key:"resolveValue",value:function(t){return t}},{key:"createNewInstance",value:function(t,e){var n,r=this,o=this.context,i=this.properties,u=this.propertyNames;return new oe(null,{data:Object.assign({},o.data),options:o.options},{inited:function(){n=this,e&&e(n);var a=r.resolveValue(t);u.forEach((function(t){return function(t,e,n){Qt(t,"_data",n,(function(t){if(Tt(t)){var r=t[wt];delete t[wt],t=r}else t=function(t,e,n,r){N(e,r);var o=w(t),i=e.instantiate(o,"".concat(o.subpath,"/").concat(n),r);return o.replaceChildNode(n,i),i}(this,e,n,t).value;this._data[n]=t}))}(n,i[t],t)})),n.$options._dataKeys.forEach((function(t){n[t]=t in a?a[t]:t in i?void 0:o.data[t]}))},created:function(){this._beforeCreateData&&this.$assign(this._beforeCreateData)}}),n}},{key:"getSnapshot",value:function(t){return Vt(t.storedValue)}},{key:"isValidSnapshot",value:function(t,e){var n=this;return or(t)?x(this.propertyNames.map((function(r){return n.properties[r].validate(t[r],V(e,r,n.properties[r]))}))):E(e,t,"Value is not a plain object")}}])&&be(e.prototype,n),u}(ut);function Se(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r="string"==typeof e[0]&&e.shift(),o=e.shift()||{};return new _e(Object.assign({},o,{name:r||o.name}))}function je(t){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pe(t,e){return(Pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Re(t,e){return!e||"object"!==je(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Te(t){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ce=["value"],Ve=[],Ae=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pe(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Te(r);if(o){var n=Te(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Re(this,t)});function u(t,e,n){var r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),r=i.call(this,t),void 0===n)throw ur("expected type or literal as argument 1, vue component options as argument 2, but only one was received.");return r.context=Oe(Object.assign({},n,{data:function(){return{value:e}}})),ar(e)?(r._subType=e,r.propertyNames=Ce,r.properties={value:e}):r.propertyNames=Ve,r}return e=u,(n=[{key:"describe",value:function(){return this.name}},{key:"resolveValue",value:function(t){var e=this.context.data.value,n=je(e);return{value:this._subType||je(t)===je(e)||"undefined"===n||null===e?t:e}}},{key:"createNewInstance",value:function(){return _e.prototype.createNewInstance.apply(this,arguments)}},{key:"getSnapshot",value:function(t){return Ct(t.storedValue.value)}},{key:"isValidSnapshot",value:function(t,e){return this._subType?this._subType.validate(t,e):A()}}])&&ke(e.prototype,n),u}(ut);function Ee(t,e,n){return arguments.length<3&&(n=e,e=t,t="AnonymousVo"),new Ae(t,e,n)}function xe(){return Object.assign({mixins:er(arguments).map((function(t){var e=Object.assign({},t.context.options);return delete e.mixins,delete e._dataKeys,e}))})}function Ne(t){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function De(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ie(t,e){return(Ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Be(t,e){return!e||"object"!==Ne(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $e(t){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Me=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ie(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=$e(r);if(o){var n=$e(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Be(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,JSON.stringify(t))).literal=t,e}return e=u,(n=[{key:"describe",value:function(){return JSON.stringify(this.literal)}},{key:"createNewInstance",value:function(t){return N(this,t),this.literal}},{key:"isValidSnapshot",value:function(t,e){return ir(t)&&t===this.literal?A():E(e,t,"Value is not a literal ".concat(JSON.stringify(this.value)))}}])&&De(e.prototype,n),u}(at);function He(t){return new Me(t)}function Fe(t){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Je(t,e){return(Je=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Le(t,e){return!e||"object"!==Fe(e)&&"function"!=typeof e?We(t):e}function We(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ke(t){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ue=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Je(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ke(r);if(o){var n=Ke(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Le(this,t)});function u(t,e){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),!0,(o="_eager")in(r=We(n=i.call(this,t)))?Object.defineProperty(r,o,{value:true,enumerable:!0,configurable:!0,writable:!0}):r[o]=true,n._types=e,n}return e=u,(n=[{key:"describe",value:function(){return"("+this._types.map((function(t){return t.describe()})).join(" | ")+")"}},{key:"instantiate",value:function(t,e,n,r){var o=this.determineType(n,void 0);if(!o)throw ur("No matching type for union "+this.describe());return o.instantiate(t,e,n,r)}},{key:"determineType",value:function(t,e){return e?e.is(t)?e:this._types.filter((function(t){return t!==e})).find((function(e){return e.is(t)})):this._types.find((function(e){return e.is(t)}))}},{key:"getSnapshot",value:function(t){return t.type.getSnapshot(t)}},{key:"isAssignableFrom",value:function(t){return this._types.some((function(e){return e.isAssignableFrom(t)}))}},{key:"isValidSnapshot",value:function(t,e){for(var n=[],r=0,o=0;o<this._types.length;o++){var i=this._types[o].validate(t,e);if(0===i.length){if(this._eager)return A();r++}else n.push(i)}return 1===r?A():E(e,t,"No type is applicable for the union").concat(x(n))}}])&&ze(e.prototype,n),u}(ut);function qe(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=ar(t)?[t].concat(n):n;return ar(t)&&(t="("+o.map((function(t){return t.name})).join(" | ")+")"),new Ue(t,o)}function Ye(t){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ge(t,e){return(Ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qe(t,e){return!e||"object"!==Ye(e)&&"function"!=typeof e?Xe(t):e}function Xe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ze(t){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function en(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nn(t,e,n){return e&&en(t.prototype,e),n&&en(t,n),t}function rn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var on=function(){function t(e,n){if(tn(this,t),rn(this,"identifier",void 0),rn(this,"resolvedReference",void 0),this.targetType=n,le(e))this.identifier=e;else if(v(e)){var r=w(e);if(!r.identifierAttribute)throw ur("Can only store references with a defined identifier attribute.");var o=r.unnormalizedIdentifier;null==o&&cr(ur("Can only store references to tree nodes with a defined identifier.")),this.identifier=o}else cr(ur("Can only store references to tree nodes or identifiers, got: '".concat((i=e,JSON.stringify(jt(i)?Vt(i):i)),"'")));var i}return nn(t,[{key:"updateResolvedReference",value:function(t){var e=nr(this.identifier),n=t.root,r=n.identifierCache.getLastCacheModificationPerId(e);if(!this.resolvedReference||this.resolvedReference.lastCacheModification!==r){var o=this.targetType,i=n.identifierCache.resolve(o,e);i||(i={}),this.resolvedReference={node:i,lastCacheModification:r}}}}]),t}(),un=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ge(t,e)}(i,t);var e,r,o=(e=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=Ze(e);if(r){var o=Ze(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return Qe(this,t)});function i(t){var e;return tn(this,i),rn(Xe(e=o.call(this,"reference(".concat(t.name,")"))),"targetType",void 0),e.targetType=t,e}return nn(i,[{key:"describe",value:function(){return this.name}},{key:"isAssignableFrom",value:function(t){return this.targetType.isAssignableFrom(t)}},{key:"instantiate",value:function(t,e,n,r){var o,i=v(n)?S(n):d(n)?n.identifier:n;N(this,i);var u=function(t,e,n){var r=new on(t,e),o=new(Zn())({data:{isMounted:!1},computed:{ref:function(){return r},resolvedValue:function(){if(this.isMounted){r.updateResolvedReference(this.node);var t=r.resolvedReference.node.value;return n&&n(t),t}}},watch:{resolvedValue:function(){}}});return o.node=null,o}(i,this.targetType,(function(n){var r=e.match(/([^/]+)$/)[0],i=t.storedValue;o!==n&&(o=n,i[r]!==n&&(n?n[wt]=n:(a[wt]=n,n=a),r in i?i instanceof Array?i.splice(+r,1,n):i[r]=n:(i._beforeCreateData=i._beforeCreateData||{},i._beforeCreateData[r]=n)))})),a=U(this,t,e,u,r);return a.identifier=i,u.node=a,u.isMounted=!0,this.watchTargetNodeForInvalidations(a,i,t,u),a}},{key:"watchTargetNodeForInvalidations",value:function(t,e,r,o){var i=this;t.root.referenceCache.addRef(t,e),t.registerHook(n,(function(){r.root.referenceCache.removeRefs(i,e),o.$destroy()}))}},{key:"getValue",value:function(t){if(t.isAlive)return t.storedValue.resolvedValue}},{key:"getSnapshot",value:function(t){return t.storedValue.ref.identifier}},{key:"isValidSnapshot",value:function(t,e){return le(t)?A():E(e,t,"Value is not a valid identifier, which is a string or a number")}}]),i}(at);function an(t){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fn(t,e){return(fn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function sn(t,e){return!e||"object"!==an(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ln(t){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var pn=[void 0],yn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fn(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ln(r);if(o){var n=ln(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return sn(this,t)});function u(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t.name)).subtype=t,r.defaultValue=e,r.optionalValues=n,r}return e=u,(n=[{key:"describe",value:function(){return this.subtype.describe()+"?"}},{key:"instantiate",value:function(t,e,n,r){if(this.optionalValues.indexOf(n)>=0){var o=this.getDefaultInstanceOrSnapshot();return this.subtype.instantiate(t,e,o,r)}return this.subtype.instantiate(t,e,n,r)}},{key:"getDefaultInstanceOrSnapshot",value:function(){return"function"==typeof this.defaultValue?this.defaultValue():this.defaultValue}},{key:"isAssignableFrom",value:function(t){return this.subtype.isAssignableFrom(t)}},{key:"isValidSnapshot",value:function(t,e){return this.optionalValues.indexOf(t)>=0?A():this.subtype.validate(t,e)}},{key:"getSubType",value:function(){return this.subtype}}])&&cn(e.prototype,n),u}(it);function hn(t,e,n){return function(t){if("function"!=typeof t&&v(t))throw ur("default value cannot be an instance, pass a snapshot or a function that creates an instance/snapshot instead")}(t),new yn(t,e,n||pn)}var bn=hn(gt,void 0),vn=hn(mt,null);function dn(t){return(dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gn(t,e){return(gn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wn(t,e){return!e||"object"!==dn(e)&&"function"!=typeof e?On(t):e}function On(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _n(t){return(_n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Sn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gn(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_n(r);if(o){var n=_n(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return wn(this,t)});function u(t,e){var n,r,o,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),a=void 0,(o="_subType")in(r=On(n=i.call(this,t)))?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a,n._definition=e,n}return e=u,(n=[{key:"getSubType",value:function(t){if(!this._subType){var e=void 0;try{e=this._definition()}catch(t){if(!(t instanceof ReferenceError))throw t;e=void 0}if(t&&void 0===e)throw ur("Late type seems to be used too early, the definition (still) returns undefined");e&&(this._subType=e)}return this._subType}},{key:"instantiate",value:function(t,e,n,r){return this.getSubType(!0).instantiate(t,e,n,r)}},{key:"describe",value:function(){var t=this.getSubType(!1);return t?t.name:"<uknown late type>"}},{key:"isValidSnapshot",value:function(t,e){var n=this.getSubType(!1);return n?n.validate(t,e):A()}},{key:"isAssignableFrom",value:function(t){var e=this.getSubType(!1);return!!e&&e.isAssignableFrom(t)}},{key:"getSubTypes",value:function(){return this.getSubType(!1)||Gn}}])&&mn(e.prototype,n),u}(it);function jn(t){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pn(t,e){return(Pn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rn(t,e){return!e||"object"!==jn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tn(t){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Cn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pn(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Tn(r);if(o){var n=Tn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Rn(this,t)});function u(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,t.name)}return e=u,(n=[{key:"describe",value:function(){return this.name}},{key:"isValidSnapshot",value:function(t,e){if(this.options.isTargetType(t))return A();var n=this.options.getValidationMessage(t);return n?E(e,t,"Invalid value for type '".concat(this.name,"': ").concat(n)):A()}},{key:"getSnapshot",value:function(t){return this.options.toSnapshot(t.storedValue)}},{key:"instantiate",value:function(t,e,n,r){return U(this,t,e,this.options.isTargetType(n)?n:this.options.fromSnapshot(n,t&&t.root.environment),r)}}])&&kn(e.prototype,n),u}(at);function Vn(t){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function An(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function En(t,e){return(En=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xn(t,e){return!e||"object"!==Vn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nn(t){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Dn=new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&En(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Nn(r);if(o){var n=Nn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return xn(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,"func",(function(t){return"function"==typeof t}))}return e=u,(n=[{key:"isValidSnapshot",value:function(t,e){return this.checker(t)?A():E(e,t,"Value is not a ".concat(this.name))}}])&&An(e.prototype,n),u}(ht));function In(t){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $n(t,e){return($n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Mn(t,e){return!e||"object"!==In(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hn(t){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Fn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$n(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Hn(r);if(o){var n=Hn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Mn(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,"any"))._defualtValue=t,e}return e=u,(n=[{key:"describe",value:function(){return this.name}},{key:"createNewInstance",value:function(t){return void 0===t?this._getDefault():t}},{key:"is",value:function(){return!0}},{key:"isValidSnapshot",value:function(){return A()}},{key:"_getDefault",value:function(){return"function"==typeof this._defualtValue?this._defualtValue():this._defualtValue}}])&&Bn(e.prototype,n),u}(at);function zn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Jn,Ln={string:bt,number:vt,boolean:dt,nullType:mt,undefinedType:gt,vue:Se,vo:Ee,array:function(t){return new Kt(t.name+"[]",t)},literal:He,union:qe,compose:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r="string"==typeof e[0]?e.shift():"AnonymousModel(compose)";return Se(r,xe.apply(void 0,e))},composeVo:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Ee(e[e.length-1]._subType,xe.apply(void 0,e))},identifier:ye,identifierNumber:he,reference:function(t){return new un(t)},optional:hn,maybe:function(t){return qe(t,bn)},maybeNull:function(t){return qe(t,vn)},late:function(t,e){var n="string"==typeof t?t:"late(".concat(t.toString(),")");return new Sn(n,"string"==typeof t?e:t)},custom:function(t){return new Cn(t)},func:Dn,any:new Fn,anyValue:function(t){return new Fn(t)},enumeration:function(t,e){var n,r="string"==typeof t?e:t,o=qe.apply(void 0,function(t){if(Array.isArray(t))return zn(t)}(n=r.map((function(t){return He(""+t)})))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return zn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zn(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return"string"==typeof t&&(o.name=t),o}};function Wn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Un(t,e,n){return e&&Kn(t.prototype,e),n&&Kn(t,n),t}function qn(t){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Yn=Object.toString(),Gn="cannotDetermine";function Qn(){return"undefined"!=typeof process&&process.env&&"true"===process.env.ENABLE_TYPE_CHECK}function Xn(){return!1}function Zn(){var t=Jn||e()||window.Vue;if(!t)throw new Error("\n      \"Vue-data-model\" depends on Vue, window.vue was not found.\n      Please use \"Vue.use()\" to inject Vue dependencies in your app.\n      For example:\n\n      import Vue from 'vue';\n      import VDM from 'vue-data-model';\n      Vue.use(VDM);\n    ");return t}function tr(t){Jn=t}function er(t){return Array.prototype.slice.call(t)}function nr(t){return""+t}function rr(t){return Array.isArray(t)||t instanceof Mt}function or(t){if(null===t||"object"!==qn(t))return!1;var e=Object.getPrototypeOf(t);return null==e||e.constructor&&e.constructor.toString()===Yn}function ir(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null==t||!!("string"==typeof t||"number"==typeof t||"boolean"==typeof t||e&&t instanceof Date)}function ur(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Illegal state";return new Error("[vue-data-model] "+t)}function ar(t){return t instanceof it}function cr(t){console.error(t)}var fr=function(){function t(){Wn(this,t),this.handlers=[]}return Un(t,[{key:"hasSubscribers",get:function(){return this.handlers.length>0}},{key:"register",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n?this.handlers.unshift(t):this.handlers.push(t),function(){e.unregister(t)}}},{key:"has",value:function(t){return this.handlers.indexOf(t)>=0}},{key:"unregister",value:function(t){var e=this.handlers.indexOf(t);e>=0&&this.handlers.splice(e,1)}},{key:"clear",value:function(){this.handlers.length=0}},{key:"emit",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=this.handlers.slice();r.forEach((function(t){return t.apply(void 0,e)}))}}]),t}(),sr=function(){function t(){Wn(this,t)}return Un(t,[{key:"hasSubscribers",value:function(t){var e=this.eventHandlers&&this.eventHandlers[t];return!!e&&e.hasSubscribers}},{key:"register",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.eventHandlers||(this.eventHandlers={});var r=this.eventHandlers[t];return r||(r=this.eventHandlers[t]=new fr),r.register(e,n)}},{key:"has",value:function(t,e){var n=this.eventHandlers&&this.eventHandlers[t];return!!n&&n.has(e)}},{key:"unregister",value:function(t,e){var n=this.eventHandlers&&this.eventHandlers[t];n&&n.unregister(e)}},{key:"clear",value:function(t){this.eventHandlers&&delete this.eventHandlers[t]}},{key:"clearAll",value:function(){this.eventHandlers=void 0}},{key:"emit",value:function(t){var e=this.eventHandlers&&this.eventHandlers[t];if(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit.apply(e,r)}}}]),t}(),lr={install:tr}}(),o}()}));