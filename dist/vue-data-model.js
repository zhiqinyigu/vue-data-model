!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("vue")):"function"==typeof define&&define.amd?define(["vue"],e):"object"==typeof exports?exports.VDM=e(require("vue")):t.VDM=e(t.Vue)}(this,(function(t){return function(){"use strict";var e={982:function(e){e.exports=t}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,r),i.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return function(){r.r(o),r.d(o,{BaseType:function(){return ut},ComplexType:function(){return at},EventHandlers:function(){return vr},LiteVue:function(){return ae},SimpleType:function(){return ct},cannotDetermineSubtype:function(){return nr},createLiteVue:function(){return ce},default:function(){return dr},destroy:function(){return g},detach:function(){return m},devMode:function(){return or},fail:function(){return pr},getEnv:function(){return k},getIdentifier:function(){return S},getParent:function(){return R},getRoot:function(){return P},getTreeNode:function(){return O},getTreeNodeSafe:function(){return _},getType:function(){return w},getVue:function(){return ir},isArray:function(){return fr},isPlainObject:function(){return sr},isPrimitive:function(){return lr},isScalarNode:function(){return d},isTreeNodeValue:function(){return v},isType:function(){return yr},isTypeCheckingEnabled:function(){return rr},logError:function(){return hr},newChildNode:function(){return j},normalizeIdentifier:function(){return cr},resolveContext:function(){return ue},resolveDep:function(){return jt},setVue:function(){return ur},toArray:function(){return ar},toJSON:function(){return b},types:function(){return Gn}});var t=r(982),e=r.n(t),n="beforeDestroy";function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=1,c=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,"state",0),u(this,"storedValue",void 0),this._id=a++,this.type=e,this.environment=o,this.baseSetParent(n,r),this.state=1}var e,r;return e=t,(r=[{key:"isAlive",get:function(){return 0!==this.state}},{key:"root",get:function(){var t=this.parent;return t?t.root:this}},{key:"value",get:function(){return this.type.getValue(this)}},{key:"isRoot",get:function(){return null===this.parent}},{key:"fireInternalHook",value:function(t){this._hookSubscribers&&this._hookSubscribers.emit(t,this,t)}},{key:"registerHook",value:function(t,e){return this._hookSubscribers||(this._hookSubscribers=new vr),this._hookSubscribers.register(t,e)}},{key:"baseSetParent",value:function(t,e){this.parent=t,this.subpath=e}},{key:"baseFinalizeDeath",value:function(){this._hookSubscribers&&this._hookSubscribers.clearAll(),this.baseSetParent(null,""),this.state=0}},{key:"baseAboutToDie",value:function(){this.fireHook(n)}}])&&i(e.prototype,r),t}();function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(r);if(o){var n=y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function u(t,e,n,r,o){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(a=i.call(this,t,e,n,o))._initialSnapshot=r,a.storedValue=a.type.createNewInstance(a._initialSnapshot),a}return e=u,(n=[{key:"snapshot",get:function(){return this.type.getSnapshot(this)}},{key:"die",value:function(){this.isAlive&&2!==this.state&&(this.aboutToDie(),this.finalizeDeath())}},{key:"aboutToDie",value:function(){this.baseAboutToDie()}},{key:"finalizeDeath",value:function(){this.baseFinalizeDeath()}},{key:"fireHook",value:function(t){this.fireInternalHook(t)}}])&&s(e.prototype,n),u}(c);function b(){return O(this).snapshot}function v(t){return t&&t.$treenode}function d(t){return t instanceof h}function m(t){return O(t).detach(),t}function g(t){var e=O(t);e.isRoot?e.die():e.parent&&e.parent.removeChild(e.subpath)}function O(t){return t.$treenode}function w(t){return O(t).type}function _(t){return t&&t.$treenode||null}function S(t){return O(t).identifier}function j(t,e,n,r){var o=_(n);if(o){if(o.parent)throw pr("Cannot add an object to a state tree if it is already part of the same or another state tree.");o.baseSetParent(t,e)}else o=r.instantiate(t,e,n);return o}function k(t){return O(t).root.environment||{}}function P(t){var e=O(t);if(e)return e.root.storedValue}function R(t,e){for(var n=O(t),r=e=e||1;n;){if(0==e--)return n.storedValue;n=n.parent}throw pr("Failed to find the parent of ".concat(JSON.stringify(t.$toValue?t.$toValue():t)," at depth ").concat(r))}var T=[];function C(t){return"function"==typeof t?"<function".concat(t.name?" "+t.name:"",">"):v(t)?"<".concat(t,">"):"`".concat(function(t){try{return JSON.stringify(t)}catch(t){return"<Unserializable: ".concat(t,">")}}(t),"`")}function V(t){var e=t.value,n=t.context[t.context.length-1].type,r=t.context.map((function(t){return t.path})).filter((function(t){return t.length>0})).join("/"),o=r.length>0?'at path "/'.concat(r,'" '):"",i=v(e)?"value of type ".concat(O(e).type.name,":"):lr(e)?"value":"snapshot",u=n&&v(e)&&n.is(O(e).snapshot);return"".concat(o).concat(i," ").concat(C(e)," is not assignable ").concat(n?"to type: `".concat(n.name,"`"):"")+(t.message?" (".concat(t.message,")"):"")+(n?lr(e)?".":", expected an instance of `".concat(n.name,"` or a snapshot like `").concat(n.describe(),"` instead.")+(u?" (Note that a snapshot of the provided value is compatible with the targeted type)":""):".")}function E(t,e,n){return t.concat([{path:e,type:n}])}function A(){return T}function x(t,e,n){return[{context:t,value:e,message:n}]}function N(t){return t.reduce((function(t,e){return t.concat(e)}),[])}function D(t,e){rr()&&function(t,e){var n=t.validate(e,[{path:"",type:t}]);if(n.length>0)throw pr(function(t,e,n){var r;if(0!==n.length)return"Error while converting ".concat((r=C(e),r.length<280?r:"".concat(r.substring(0,272),"......").concat(r.substring(r.length-8)))," to `").concat(t.name,"`:\n\n    ")+n.map(V).join("\n    ")}(t,e,n))}(t,e)}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var B=0,$=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=ir();this.cacheId=B++,this.cache=new Map,this.lastCacheModificationPerId=e.observable({sett:{}})}var e,n;return e=t,(n=[{key:"updateLastCacheModificationPerId",value:function(t){var e=this.lastCacheModificationPerId.sett[t];ir().set(this.lastCacheModificationPerId.sett,t,void 0===e?1:e+1)}},{key:"getLastCacheModificationPerId",value:function(t){var e=this.lastCacheModificationPerId.sett[t]||0;return"".concat(this.cacheId,"-").concat(e)}},{key:"addNodeToCache",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.identifierAttribute){var n=t.identifier;if(!n)return;this.cache.has(n)||this.cache.set(n,[]);var r=this.cache.get(n);if(-1!==r.indexOf(t))throw pr("Already registered");r.push(t),e&&this.updateLastCacheModificationPerId(n)}}},{key:"removeNodeToCache",value:function(t){if(t.identifierAttribute){var e=t.identifier,n=this.cache.get(e);if(n){var r=n.indexOf(t);-1!==r&&(n.splice(r,1),this.updateLastCacheModificationPerId(e))}}}},{key:"has",value:function(t,e){var n=this.cache.get(e);return!!n&&n.some((function(e){return t.isAssignableFrom(e.type)}))}},{key:"resolve",value:function(t,e){var n=this.cache.get(e);if(!n)return null;var r=n.filter((function(e){return t.isAssignableFrom(e.type)}));switch(r.length){case 0:return null;case 1:return r[0];default:throw pr("Cannot resolve a reference to type '".concat(t.name,"' with id: '").concat(e,"' unambigously, there are multiple candidates: ").concat(r.map((function(t){return t.path})).join(", ")))}}}])&&I(e.prototype,n),t}();function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var H=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cache=new Map}var e,n;return e=t,(n=[{key:"addRef",value:function(t,e){if(e){this.cache.has(e)||this.cache.set(e,[]);var n=this.cache.get(e);if(-1!==n.indexOf(t))throw pr("Already registered");n.push(t)}}},{key:"removeRefs",value:function(t,e,n){var r=this.cache.get(e);if(r){var o=r.indexOf(t);-1!==o&&(r.splice(o,1),n&&this.updateRefs(e))}}},{key:"updateRefs",value:function(t){var e=this.cache.get(t);e&&e.forEach((function(t){return t.value}))}}])&&M(e.prototype,n),t}();function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function J(t,e){return(J=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function L(t,e){return!e||"object"!==F(e)&&"function"!=typeof e?K(t):e}function K(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var U=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&J(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=W(r);if(o){var n=W(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return L(this,t)});function u(t,e,n,r,o){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var c=K(a=i.call(this,t,e,n,o));a._childNodes={},a._initialSnapshot=r,e||(a.identifierCache=new $,a.referenceCache=new H);var f=function(t){c.storedValue=t,t.$treenode||(t.$treenode=c,t.$toValue=b,t.toJSON=b)};if(f(t.createNewInstance(a._initialSnapshot,f)),a.identifierAttribute=t.identifierAttribute,a.identifier=null,a.unnormalizedIdentifier=null,a.identifierAttribute&&a._initialSnapshot){var s=a._initialSnapshot[a.identifierAttribute];if(void 0===s&&(s=a.storedValue[a.identifierAttribute]),"string"!=typeof s&&"number"!=typeof s)throw pr("Instance identifier '".concat(a.identifierAttribute,"' for type '").concat(a.type.name,"' must be a string or a number"));a.identifier=cr(s),a.unnormalizedIdentifier=s}return a.root.identifierCache.addNodeToCache(K(a)),a.root.referenceCache.updateRefs(a.identifier),a}return e=u,(n=[{key:"replaceChildNode",value:function(t,e){this._childNodes[t]=e}},{key:"getChildNodes",value:function(){return this._childNodes}},{key:"removeChildNode",value:function(t){delete this._childNodes[t]}},{key:"getChildren",value:function(){var t=this._childNodes;return Object.keys(t).map((function(e){return t[e]}))}},{key:"clearParent",value:function(){if(this.parent){this.fireHook("beforeDetach");var t=this.state;this.state=2;var e=this.root,n=e.environment,r=e.identifierCache.splitCache(this);try{this.parent.removeChild(this.subpath),this.baseSetParent(null,""),this.environment=n,this.identifierCache=r}finally{this.state=t}}}},{key:"fireHook",value:function(t){this.fireInternalHook(t);var e=this.storedValue&&"object"===F(this.storedValue)&&this.storedValue[t];"function"==typeof e&&e.apply(this.storedValue)}},{key:"detach",value:function(){if(!this.isAlive)throw pr("Error while detaching, node is not alive.");this.clearParent()}},{key:"die",value:function(){this.isAlive&&2!==this.state&&(this.aboutToDie(),this.finalizeDeath())}},{key:"aboutToDie",value:function(){this.getChildren().forEach((function(t){t.aboutToDie()})),this.baseAboutToDie()}},{key:"finalizeDeath",value:function(){this.getChildren().forEach((function(t){t.finalizeDeath()})),this.root.identifierCache.removeNodeToCache(this),this.root.referenceCache.updateRefs(this.identifier),this.baseFinalizeDeath()}},{key:"snapshot",get:function(){return this.type.getSnapshot(this)}}])&&z(e.prototype,n),u}(c);function q(t,e,n,r,o){return new h(t,e,n,r,o)}function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(t,e,n){return(G="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=et(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Q(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X(t,e)}function X(t,e){return(X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=et(t);if(e){var o=et(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tt(this,n)}}function tt(t,e){return!e||"object"!==Y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function et(t){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ot(t,e,n){return e&&rt(t.prototype,e),n&&rt(t,n),t}var it=["instantiate"],ut=function(){function t(e){var n,r,o=this;nt(this,t),r=void 0,(n="identifierAttribute")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this.name=e,it.forEach((function(t){if("function"!=typeof o[t])throw pr('BaseType must realize "'.concat(t,'" methods'))}))}return ot(t,[{key:"create",value:function(t,e){return this.instantiate(null,"",t,e).value}},{key:"isAssignableFrom",value:function(t){return t===this}},{key:"validate",value:function(t,e){if(_(t)){var n=w(t);return this.isAssignableFrom(n)?A():x(e,t)}return this.isValidSnapshot(t,e)}},{key:"is",value:function(t){return 0===this.validate(t,[{path:"",type:this}]).length}}]),t}(),at=function(t){Q(n,t);var e=Z(n);function n(){return nt(this,n),e.apply(this,arguments)}return ot(n,[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getDefaultSnapshot(),e=arguments.length>1?arguments[1]:void 0;return G(et(n.prototype),"create",this).call(this,t,e)}},{key:"instantiate",value:function(t,e,n,r){return function(t,e,n,r,o){return new U(t,e,n,r,o)}(this,t,e,n,r)}},{key:"getDefaultSnapshot",value:function(){return{}}},{key:"getValue",value:function(t){return t.storedValue}},{key:"getSnapshot",value:function(t){return JSON.parse(JSON.stringify(t.storedValue))}}]),n}(ut),ct=function(t){Q(n,t);var e=Z(n);function n(){return nt(this,n),e.apply(this,arguments)}return ot(n,[{key:"createNewInstance",value:function(t){return t}},{key:"instantiate",value:function(t,e,n,r){return q(this,t,e,n,r)}},{key:"getDefaultSnapshot",value:function(){}},{key:"getValue",value:function(t){return t.storedValue}},{key:"getSnapshot",value:function(t){return t.storedValue}}]),n}(ut);function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function st(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lt(t,e){return(lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pt(t,e){return!e||"object"!==ft(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yt(t){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ht(t){return t}var bt,vt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lt(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=yt(r);if(o){var n=yt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return pt(this,t)});function u(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t)).checker=e,r.initializer=n||ht,r}return e=u,(n=[{key:"describe",value:function(){return this.name}},{key:"createNewInstance",value:function(t){if(this.is(t))return this.initializer(t);throw pr("Value is not a ".concat(this.name))}},{key:"is",value:function(t){return this.checker(t)}},{key:"isValidSnapshot",value:function(t,e){if(lr(t)&&this.checker(t))return A();var n="Date"===this.name?"Date or a unix milliseconds timestamp":this.name;return x(e,t,"Value is not a ".concat(n))}}])&&st(e.prototype,n),u}(ct),dt=new vt("string",(function(t){return"string"==typeof t})),mt=new vt("number",(function(t){return"number"==typeof t})),gt=new vt("boolean",(function(t){return"boolean"==typeof t})),Ot=new vt("null",(function(t){return null===t})),wt=new vt("undefined",(function(t){return void 0===t})),_t="_$$actualValueForProxySet$$_",St={Watcher:null,watch:null,Dep:null,Observer:null,pushTarget:null,popTarget:null,isSSR:void 0,EffectScope:void 0};function jt(){if(!bt){var t,e,n,r,o,i=ir();bt=new i({data:{obj:{}},computed:{c:function(){return 1}}}),St.Watcher=null===(t=bt._computedWatchers.c)||void 0===t?void 0:t.constructor,St.EffectScope=null===(e=bt._scope)||void 0===e?void 0:e.constructor,St.watch=function(t,e,n,r){return bt.$watch.call(t,e,n,r)},St.Dep=null===(n=bt.obj.__ob__)||void 0===n?void 0:n.dep.constructor,St.Observer=null===(r=bt.$data.__ob__)||void 0===r?void 0:r.constructor,St.isSSR=bt.$isServer,St.pushTarget=function(t){var e=St.Dep;e&&(o=e.target,e.target="")},St.popTarget=function(){var t=St.Dep;t&&""===t.target&&(t.target=o)}}return St}function kt(t){return t}function Pt(t){return jt().Observer&&t instanceof jt().Observer}var Rt=Object.prototype.hasOwnProperty;function Tt(t,e){return Rt.call(t,e)}function Ct(t){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vt(t){return t&&"object"===Ct(t)&&_t in t}function Et(t){return Pt(t)?At(t):function(t){return null==t?t:JSON.parse(JSON.stringify(t))}(t)}function At(t,e){var n=JSON.parse(JSON.stringify(function(t){var e=t.$options._dataKeys,n=O(t).getChildNodes();return e.reduce((function(e,r){var o,i=t[r];if(r in n){var u=n[r];o=d(u)?u.snapshot:i.$toValue()}else o=i;return e[r]=o,e}),{})}(t),e));return t.$options._dataKeys.forEach((function(t){t in n||(n[t]=void 0)})),n}function xt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nt(t,e,n){return(Nt=Dt()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&It(o,n.prototype),o}).apply(null,arguments)}function Dt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function It(t,e){return(It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Bt=Array.prototype.slice,$t=function(t){return t?Bt.call(t):t},Mt={_overwriteParams:function(t){return t},push:function(){var t=this,e=arguments;return this._willChange&&this._willChange("push",e),this.__proto__.push.apply(this,$t(arguments).map((function(n,r){return t._overwriteParams(n,r,"push",e)})))},splice:function(t,e){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var u=arguments;return this._willChange&&this._willChange("splice",u),this.__proto__.splice.apply(this,[t,arguments.length>=2?e:1/0].concat($t(o).map((function(t,e){return n._overwriteParams(t,e,"splice",u)}))))}};function Ht(){var t=Nt(Array,Array.prototype.slice.call(arguments));for(var e in Mt)t[e]=Mt[e];return t}Ht.clone=function(t,e){var n=new Ht;return e&&(n._overwriteParams=e._overwriteParams,n._willChange=e._willChange,e.created&&e.created.call(n)),n.push.apply(n,function(t){return function(t){if(Array.isArray(t))return xt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return xt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t)),n};var Ft=Ht;function zt(t){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kt(t,e){return(Kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wt(t,e){return!e||"object"!==zt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ut(t){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kt(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ut(r);if(o){var n=Ut(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Wt(this,t)});function u(t,e){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),n=i.call(this,t),!e)throw pr("expected type as argument 1, got ".concat(e," instead"));return n._subType=e,n}return e=u,(n=[{key:"describe",value:function(){return this._subType.describe()+"[]"}},{key:"createNewInstance",value:function(t,e){var n=this._subType;return Ft.clone(t,{created:function(){e&&e(this)},_willChange:function(t,e){var n=O(this),r=this.length;switch(t){case"splice":!function(){var t,o=function(t){if(Array.isArray(t))return t}(t=e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Jt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],u=o[1],a=o.slice(2),c=0,f=a.length;if("number"==typeof i){for(var s=(u="number"==typeof u?u:1/0)-1;s>=0;s--){if(i+s>r)return;c++,!(a.length>=s+1&&Vt(a[s]))&&(n.getChildNodes()[i+s].die(),n.removeChildNode(i+s))}for(var l={},p=r-i-c;p>0;p--){var y=i+c+p-1,h=i+f-1+p;y!==h&&(l[h]=n.getChildNodes()[y],n.removeChildNode(y))}Object.keys(l).forEach((function(t){return n.replaceChildNode(t,l[t])}))}}()}},_overwriteParams:function(t,e,r,o){var i=O(this),u=this.length;switch(r){case"splice":e+=o[0]||0;break;default:e+=u}if(Vt(t)){var a=t[_t];return delete t[_t],a}var c=j(i,"".concat(i.subpath,"/").concat(e),t,n);return i.replaceChildNode(e,c),c.value}})}},{key:"getSnapshot",value:function(t){var e=t.getChildNodes();return t.storedValue.map((function(t,n){var r=e[n];return d(r)?r.snapshot:Et(t)}))}},{key:"isValidSnapshot",value:function(t,e){var n=this;return fr(t)?N(t.map((function(t,r){return n._subType.validate(t,E(e,""+r,n._subType))}))):x(e,t,"Value is not an array")}}])&&Lt(e.prototype,n),u}(at);function Yt(t,e,n){n&&n[e]&&n[e].call(t),Gt(t,e)}function Gt(t,e){var n=t.$options[e],r=n&&n.length;if(r){var o=jt(),i=o.pushTarget,u=o.popTarget;i();for(var a=0;a<r;a++)n[a].call(t);u()}}var Qt={lazy:!0},Xt={enumerable:!0,configurable:!0,get:kt,set:kt};function Zt(t,e,n,r){Xt.get=function(){return this[e][n]},Xt.set=r||function(t){this[e][n]=t},Object.defineProperty(t,n,Xt)}function te(t,e,n){var r=!jt().isSSR;"function"==typeof n?(Xt.get=r?ee(e):ne(n),Xt.set=kt):(Xt.get=n.get?r&&!1!==n.cache?ee(e):ne(n.get):kt,Xt.set=n.set||kt),Object.defineProperty(t,e,Xt)}function ee(t){var e=jt().Dep;return function(){var n=this._computedWatchers&&this._computedWatchers[t];if(n)return n.dirty&&n.evaluate(),e&&e.target&&n.depend(),n.value}}function ne(t){return function(){return t.call(this,this)}}function re(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ie=1;function ue(t){var e=ir(),n={};t&&t._isComponent?console.error("options._isComponent"):n=e.util.mergeOptions(n,t||{},n);var r=n.data;return r=Object.assign({},"function"==typeof r?r():r),n._dataKeys=Object.keys(r),n._getData=function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?re(Object(n),!0).forEach((function(e){oe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},r)},{data:r,options:n}}function ae(t,e,n){var r=this,o=jt().EffectScope;e=e||ue(t),r.$options=e.options,r._uid=ie++,r._isVue=!0,r.__v_skip=!0,o&&(r._scope=new o(!0),r._scope._vm=!0),function(t){t._isDestroyed=!1,t._isBeingDestroyed=!1}(r),Yt(r,"beforeCreate",n),function(t,e){t._watchers=[];var n=t.$options;n.methods&&function(t,e){for(var n in e)t[n]="function"!=typeof e[n]?kt:(r=t,e[n].bind(r));var r}(t,n.methods),function(t){var e,n=ir(),r=t.$options._getData();sr(r)||(r={}),t._data=r;for(var o=Object.keys(r),i=t.$options.props,u=(t.$options.methods,o.length);u--;){var a=o[u];i&&Tt(i,a)||(e=void 0,36===(e=(a+"").charCodeAt(0))||95===e)||Zt(t,"_data",a)}n.observable(r)}(t),Yt(t,"inited",e),n.computed&&function(t,e){var n=jt(),r=n.Watcher,o=n.isSSR,i=t._computedWatchers=Object.create(null);for(var u in e){var a=e[u],c="function"==typeof a?a:a.get;o||(i[u]=new r(t,c||kt,kt,Qt)),u in t||te(t,u,a)}}(t,n.computed)}(r,n),Yt(r,"created",n)}function ce(t,e,n){return new ae(t,e,n)}function fe(t){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function se(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function le(t,e){return(le=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pe(t,e){return!e||"object"!==fe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ye(t){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function he(t){return"string"==typeof t||"number"==typeof t}ae.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Gt(t,"beforeDestroy"),t._isBeingDestroyed=!0,t._watcher&&t._watcher.teardown();for(var e=t._watchers.length;e--;)t._watchers[e].teardown();t.__ob__&&t.__ob__.vmCount--,t._isDestroyed=!0,Gt(t,"destroyed")}};var be=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&le(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ye(r);if(o){var n=ye(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return pe(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,"identifier")).validType=t,e}return e=u,(n=[{key:"describe",value:function(){return"identifier"}},{key:"createNewInstance",value:function(t){return D(this,t),t}},{key:"isValidSnapshot",value:function(t,e){return fe(t)!==this.validType?x(e,t,"Value is not a valid ".concat(this.describe(),", expected a ").concat(this.validType)):A()}}])&&se(e.prototype,n),u}(ct),ve=new be("string"),de=new be("number");function me(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ge(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function we(t,e){return(we=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _e(t,e){return!e||"object"!==je(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Se(t){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function je(t){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ke=function(t,e){return e};function Pe(t){return ue(t=Object.assign({},t))}ae.prototype.beforeDestroy=function(){this.$destroy()},ae.prototype.$assign=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ke,n=this.$options._dataKeys;if(t&&"object"===je(t))for(var r in t)-1!==n.indexOf(r)&&(this[r]=e(r,t[r]))};var Re=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&we(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Se(r);if(o){var n=Se(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _e(this,t)});function u(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var n=(e=i.call(this,t.name||"AnonymousModel")).properties={};if(t.data&&"object"===je(t.data)){var r=t.data;t.data=function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?me(Object(n),!0).forEach((function(e){ge(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},r)}}var o=(e.context=Pe(t)).data;for(var a in o){var c=o[a];yr(c)&&(n[a]=c,o[a]=void 0,!e.identifierAttribute&&c instanceof be&&(e.identifierAttribute=a))}return e.propertyNames=Object.keys(e.properties),e}return e=u,(n=[{key:"describe",value:function(){var t=this;return"{ "+this.propertyNames.map((function(e){return e+": "+t.properties[e].describe()})).join("; ")+" }"}},{key:"resolveValue",value:function(t){return t}},{key:"createNewInstance",value:function(t,e){var n,r=this,o=this.context,i=this.properties,u=this.propertyNames;return new ae(null,{data:Object.assign({},o.data),options:o.options},{inited:function(){n=this,e&&e(n);var a=r.resolveValue(t);u.forEach((function(t){return function(t,e,n){Zt(t,"_data",n,(function(t){if(Vt(t)){var r=t[_t];delete t[_t],t=r}else{var o=this._data[n];o&&O(o)&&O(o).die(),t=function(t,e,n,r){D(e,r);var o=O(t),i=j(o,"".concat(o.subpath,"/").concat(n),r,e);return o.replaceChildNode(n,i),i}(this,e,n,t).value}this._data[n]=t}))}(n,i[t],t)})),n.$options._dataKeys.forEach((function(t){n[t]=t in a?a[t]:t in i?void 0:o.data[t]}))},created:function(){this._beforeCreateData&&this.$assign(this._beforeCreateData)}}),n}},{key:"getSnapshot",value:function(t){return At(t.storedValue)}},{key:"isValidSnapshot",value:function(t,e){var n=this;return sr(t)?N(this.propertyNames.map((function(r){return n.properties[r].validate(t[r],E(e,r,n.properties[r]))}))):x(e,t,"Value is not a plain object")}}])&&Oe(e.prototype,n),u}(at);function Te(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r="string"==typeof e[0]&&e.shift(),o=e.shift()||{};return new Re(Object.assign({},o,{name:r||o.name}))}function Ce(t){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ee(t,e){return(Ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ae(t,e){return!e||"object"!==Ce(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xe(t){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ne=["value"],De=[],Ie={toString:function(){return this.value+""},valueOf:function(){return this.value}},Be=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ee(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xe(r);if(o){var n=xe(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ae(this,t)});function u(t,e,n){var r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),r=i.call(this,t),void 0===n)throw pr("expected type or literal as argument 1, vue component options as argument 2, but only one was received.");var o=Object.assign({},n,{data:function(){return{value:e}}});return o.methods=Object.assign(o.methods||{},Ie),r.context=Pe(o),yr(e)?(r._subType=e,r.propertyNames=Ne,r.properties={value:e}):r.propertyNames=De,r}return e=u,(n=[{key:"describe",value:function(){return this.name}},{key:"resolveValue",value:function(t){var e=this.context.data.value,n=Ce(e);return{value:this._subType||Ce(t)===Ce(e)||"undefined"===n||null===e?t:e}}},{key:"createNewInstance",value:function(){return Re.prototype.createNewInstance.apply(this,arguments)}},{key:"getSnapshot",value:function(t){return Et(t.storedValue.value)}},{key:"isValidSnapshot",value:function(t,e){return this._subType?this._subType.validate(t,e):A()}}])&&Ve(e.prototype,n),u}(at);function $e(t,e,n){return arguments.length<3&&(n=e,e=t,t="AnonymousVo"),new Be(t,e,n)}function Me(){return{mixins:ar(arguments).map((function(t){var e=Object.assign({},t.context.options);return delete e.mixins,delete e._dataKeys,e}))}}function He(t){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ze(t,e){return(ze=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Je(t,e){return!e||"object"!==He(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Le(t){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ke=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ze(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Le(r);if(o){var n=Le(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Je(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,JSON.stringify(t))).literal=t,e}return e=u,(n=[{key:"describe",value:function(){return JSON.stringify(this.literal)}},{key:"createNewInstance",value:function(t){return D(this,t),this.literal}},{key:"isValidSnapshot",value:function(t,e){return lr(t)&&t===this.literal?A():x(e,t,"Value is not a literal ".concat(JSON.stringify(this.value)))}}])&&Fe(e.prototype,n),u}(ct);function We(t){return new Ke(t)}function Ue(t){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ye(t,e){return(Ye=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ge(t,e){return!e||"object"!==Ue(e)&&"function"!=typeof e?Qe(t):e}function Qe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xe(t){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ze=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ye(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Xe(r);if(o){var n=Xe(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ge(this,t)});function u(t,e){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),!0,(o="_eager")in(r=Qe(n=i.call(this,t)))?Object.defineProperty(r,o,{value:true,enumerable:!0,configurable:!0,writable:!0}):r[o]=true,n._types=e,n}return e=u,(n=[{key:"describe",value:function(){return"("+this._types.map((function(t){return t.describe()})).join(" | ")+")"}},{key:"instantiate",value:function(t,e,n,r){var o=this.determineType(n,void 0);if(!o){var i="No matching type for union ".concat(this.describe(),". ")+"Find the '".concat(JSON.stringify(n),"' under the path '").concat(e,"'");try{i+=", parent are like '".concat(JSON.stringify(t.snapshot),"'.")}catch(t){}throw pr(i)}return o.instantiate(t,e,n,r)}},{key:"determineType",value:function(t,e){return e?e.is(t)?e:this._types.filter((function(t){return t!==e})).find((function(e){return e.is(t)})):this._types.find((function(e){return e.is(t)}))}},{key:"getSnapshot",value:function(t){return t.type.getSnapshot(t)}},{key:"isAssignableFrom",value:function(t){return this._types.some((function(e){return e.isAssignableFrom(t)}))}},{key:"isValidSnapshot",value:function(t,e){for(var n=[],r=0,o=0;o<this._types.length;o++){var i=this._types[o].validate(t,e);if(0===i.length){if(this._eager)return A();r++}else n.push(i)}return 1===r?A():x(e,t,"No type is applicable for the union").concat(N(n))}}])&&qe(e.prototype,n),u}(at);function tn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=yr(t)?[t].concat(n):n;return yr(t)&&(t="("+o.map((function(t){return t.name})).join(" | ")+")"),new Ze(t,o)}function en(t){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nn(t,e){return(nn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rn(t,e){return!e||"object"!==en(e)&&"function"!=typeof e?on(t):e}function on(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function un(t){return(un=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function an(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fn(t,e,n){return e&&cn(t.prototype,e),n&&cn(t,n),t}function sn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ln=function(){function t(e,n){if(an(this,t),sn(this,"identifier",void 0),sn(this,"resolvedReference",void 0),this.targetType=n,he(e))this.identifier=e;else if(v(e)){var r=O(e);if(!r.identifierAttribute)throw pr("Can only store references with a defined identifier attribute.");var o=r.unnormalizedIdentifier;null==o&&hr(pr("Can only store references to tree nodes with a defined identifier.")),this.identifier=o}else hr(pr("Can only store references to tree nodes or identifiers, got: '".concat((i=e,JSON.stringify(Pt(i)?At(i):i)),"'")));var i}return fn(t,[{key:"updateResolvedReference",value:function(t){var e=cr(this.identifier),n=t.root,r=n.identifierCache.getLastCacheModificationPerId(e);if(!this.resolvedReference||this.resolvedReference.lastCacheModification!==r){var o=this.targetType,i=n.identifierCache.resolve(o,e);i||(i={}),this.resolvedReference={node:i,lastCacheModification:r}}}}]),t}(),pn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nn(t,e)}(i,t);var e,r,o=(e=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=un(e);if(r){var o=un(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return rn(this,t)});function i(t){var e;return an(this,i),sn(on(e=o.call(this,"reference(".concat(t.name,")"))),"targetType",void 0),e.targetType=t,e}return fn(i,[{key:"describe",value:function(){return this.name}},{key:"isAssignableFrom",value:function(t){return this.targetType.isAssignableFrom(t)}},{key:"instantiate",value:function(t,e,n,r){var o,i=v(n)?S(n):d(n)?n.identifier:n;D(this,i);var u=function(t,e,n){var r=new ln(t,e),o=new(ir())({data:{isMounted:!1},computed:{ref:function(){return r},resolvedValue:function(){if(this.isMounted){r.updateResolvedReference(this.node);var t=r.resolvedReference.node.value;return n&&n(t),t}}},watch:{resolvedValue:function(){}}});return o.node=null,o}(i,this.targetType,(function(n){var r=e.match(/([^/]+)$/)[0],i=t.storedValue;o!==n&&(o=n,i[r]!==n&&(n?n[_t]=n:(a[_t]=n,n=a),r in i?i instanceof Array?i.splice(+r,1,n):i[r]=n:(i._beforeCreateData=i._beforeCreateData||{},i._beforeCreateData[r]=n)))})),a=q(this,t,e,u,r);return a.identifier=i,u.node=a,u.isMounted=!0,this.watchTargetNodeForInvalidations(a,i,t,u),a}},{key:"watchTargetNodeForInvalidations",value:function(t,e,r,o){var i=this;t.root.referenceCache.addRef(t,e),t.registerHook(n,(function(){r.root.referenceCache.removeRefs(i,e),o.$destroy()}))}},{key:"getValue",value:function(t){if(t.isAlive)return t.storedValue.resolvedValue}},{key:"getSnapshot",value:function(t){return t.storedValue.ref.identifier}},{key:"isValidSnapshot",value:function(t,e){return he(t)?A():x(e,t,"Value is not a valid identifier, which is a string or a number")}}]),i}(ct);function yn(t){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bn(t,e){return(bn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vn(t,e){return!e||"object"!==yn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dn(t){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mn=[void 0],gn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bn(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=dn(r);if(o){var n=dn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return vn(this,t)});function u(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t.name)).subtype=t,r.defaultValue=e,r.optionalValues=n,r}return e=u,(n=[{key:"describe",value:function(){return this.subtype.describe()+"?"}},{key:"instantiate",value:function(t,e,n,r){if(this.optionalValues.indexOf(n)>=0){var o=this.getDefaultInstanceOrSnapshot();return this.subtype.instantiate(t,e,o,r)}return this.subtype.instantiate(t,e,n,r)}},{key:"getDefaultInstanceOrSnapshot",value:function(){return"function"==typeof this.defaultValue?this.defaultValue():this.defaultValue}},{key:"isAssignableFrom",value:function(t){return this.subtype.isAssignableFrom(t)}},{key:"isValidSnapshot",value:function(t,e){return this.optionalValues.indexOf(t)>=0?A():this.subtype.validate(t,e)}},{key:"getSubType",value:function(){return this.subtype}}])&&hn(e.prototype,n),u}(ut);function On(t,e,n){return function(t){if("function"!=typeof t&&v(t))throw pr("default value cannot be an instance, pass a snapshot or a function that creates an instance/snapshot instead")}(t),new gn(t,e,n||mn)}var wn=On(wt,void 0),_n=On(Ot,null);function Sn(t){return(Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kn(t,e){return(kn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pn(t,e){return!e||"object"!==Sn(e)&&"function"!=typeof e?Rn(t):e}function Rn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tn(t){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Cn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kn(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Tn(r);if(o){var n=Tn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Pn(this,t)});function u(t,e){var n,r,o,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),a=void 0,(o="_subType")in(r=Rn(n=i.call(this,t)))?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a,n._definition=e,n}return e=u,(n=[{key:"getSubType",value:function(t){if(!this._subType){var e=void 0;try{e=this._definition()}catch(t){if(!(t instanceof ReferenceError))throw t;e=void 0}if(t&&void 0===e)throw pr("Late type seems to be used too early, the definition (still) returns undefined");e&&(this._subType=e)}return this._subType}},{key:"instantiate",value:function(t,e,n,r){return this.getSubType(!0).instantiate(t,e,n,r)}},{key:"describe",value:function(){var t=this.getSubType(!1);return t?t.name:"<uknown late type>"}},{key:"isValidSnapshot",value:function(t,e){var n=this.getSubType(!1);return n?n.validate(t,e):A()}},{key:"isAssignableFrom",value:function(t){var e=this.getSubType(!1);return!!e&&e.isAssignableFrom(t)}},{key:"getSubTypes",value:function(){return this.getSubType(!1)||nr}}])&&jn(e.prototype,n),u}(ut);function Vn(t){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function En(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function An(t,e){return(An=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xn(t,e){return!e||"object"!==Vn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nn(t){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Dn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&An(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Nn(r);if(o){var n=Nn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return xn(this,t)});function u(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,t.name)}return e=u,(n=[{key:"describe",value:function(){return this.name}},{key:"isValidSnapshot",value:function(t,e){if(this.options.isTargetType(t))return A();var n=this.options.getValidationMessage(t);return n?x(e,t,"Invalid value for type '".concat(this.name,"': ").concat(n)):A()}},{key:"getSnapshot",value:function(t){return this.options.toSnapshot(t.storedValue)}},{key:"instantiate",value:function(t,e,n,r){return q(this,t,e,this.options.isTargetType(n)?n:this.options.fromSnapshot(n,t&&t.root.environment),r)}}])&&En(e.prototype,n),u}(ct);function In(t){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $n(t,e){return($n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Mn(t,e){return!e||"object"!==In(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hn(t){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Fn=new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$n(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Hn(r);if(o){var n=Hn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Mn(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,"func",(function(t){return"function"==typeof t}))}return e=u,(n=[{key:"isValidSnapshot",value:function(t,e){return this.checker(t)?A():x(e,t,"Value is not a ".concat(this.name))}}])&&Bn(e.prototype,n),u}(vt));function zn(t){return(zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ln(t,e){return(Ln=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kn(t,e){return!e||"object"!==zn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wn(t){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Un=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ln(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Wn(r);if(o){var n=Wn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Kn(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,"any"))._defualtValue=t,e}return e=u,(n=[{key:"describe",value:function(){return this.name}},{key:"createNewInstance",value:function(t){return void 0===t?this._getDefault():t}},{key:"is",value:function(){return!0}},{key:"isValidSnapshot",value:function(){return A()}},{key:"_getDefault",value:function(){return"function"==typeof this._defualtValue?this._defualtValue():this._defualtValue}}])&&Jn(e.prototype,n),u}(ct);function qn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Yn,Gn={string:dt,number:mt,boolean:gt,nullType:Ot,undefinedType:wt,vue:Te,vo:$e,array:function(t){return new qt(t.name+"[]",t)},literal:We,union:tn,compose:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r="string"==typeof e[0]?e.shift():"AnonymousModel(compose)";return Te(r,Me.apply(void 0,e))},composeVo:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return $e(e[e.length-1]._subType,Me.apply(void 0,e))},identifier:ve,identifierNumber:de,reference:function(t){return new pn(t)},optional:On,maybe:function(t){return tn(t,wn)},maybeNull:function(t){return tn(t,_n)},late:function(t,e){var n="string"==typeof t?t:"late(".concat(t.toString(),")");return new Cn(n,"string"==typeof t?e:t)},custom:function(t){return new Dn(t)},func:Fn,any:new Un,anyValue:function(t){return new Un(t)},enumeration:function(t,e){var n,r="string"==typeof t?e:t,o=tn.apply(void 0,function(t){if(Array.isArray(t))return qn(t)}(n=r.map((function(t){return We(""+t)})))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return qn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qn(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return"string"==typeof t&&(o.name=t),o}};function Qn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zn(t,e,n){return e&&Xn(t.prototype,e),n&&Xn(t,n),t}function tr(t){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var er=Object.toString(),nr="cannotDetermine";function rr(){return"undefined"!=typeof process&&process.env&&"true"===process.env.ENABLE_TYPE_CHECK}function or(){return!1}function ir(){var t=Yn||e()||window.Vue;if(!t)throw new Error("\n      \"Vue-data-model\" depends on Vue, window.vue was not found.\n      Please use \"Vue.use()\" to inject Vue dependencies in your app.\n      For example:\n\n      import Vue from 'vue';\n      import VDM from 'vue-data-model';\n      Vue.use(VDM);\n    ");return t}function ur(t){Yn=t}function ar(t){return Array.prototype.slice.call(t)}function cr(t){return""+t}function fr(t){return Array.isArray(t)||t instanceof Ft}function sr(t){if(null===t||"object"!==tr(t))return!1;var e=Object.getPrototypeOf(t);return null==e||e.constructor&&e.constructor.toString()===er}function lr(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null==t||!!("string"==typeof t||"number"==typeof t||"boolean"==typeof t||e&&t instanceof Date)}function pr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Illegal state";return new Error("[vue-data-model] "+t)}function yr(t){return t instanceof ut}function hr(t){console.error(t)}var br=function(){function t(){Qn(this,t),this.handlers=[]}return Zn(t,[{key:"hasSubscribers",get:function(){return this.handlers.length>0}},{key:"register",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n?this.handlers.unshift(t):this.handlers.push(t),function(){e.unregister(t)}}},{key:"has",value:function(t){return this.handlers.indexOf(t)>=0}},{key:"unregister",value:function(t){var e=this.handlers.indexOf(t);e>=0&&this.handlers.splice(e,1)}},{key:"clear",value:function(){this.handlers.length=0}},{key:"emit",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=this.handlers.slice();r.forEach((function(t){return t.apply(void 0,e)}))}}]),t}(),vr=function(){function t(){Qn(this,t)}return Zn(t,[{key:"hasSubscribers",value:function(t){var e=this.eventHandlers&&this.eventHandlers[t];return!!e&&e.hasSubscribers}},{key:"register",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.eventHandlers||(this.eventHandlers={});var r=this.eventHandlers[t];return r||(r=this.eventHandlers[t]=new br),r.register(e,n)}},{key:"has",value:function(t,e){var n=this.eventHandlers&&this.eventHandlers[t];return!!n&&n.has(e)}},{key:"unregister",value:function(t,e){var n=this.eventHandlers&&this.eventHandlers[t];n&&n.unregister(e)}},{key:"clear",value:function(t){this.eventHandlers&&delete this.eventHandlers[t]}},{key:"clearAll",value:function(){this.eventHandlers=void 0}},{key:"emit",value:function(t){var e=this.eventHandlers&&this.eventHandlers[t];if(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit.apply(e,r)}}}]),t}(),dr={install:ur}}(),o}()}));