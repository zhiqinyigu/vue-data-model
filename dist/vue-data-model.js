!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("vue")):"function"==typeof define&&define.amd?define(["vue"],e):"object"==typeof exports?exports.VDM=e(require("vue")):t.VDM=e(t.Vue)}(this,(function(t){return function(){"use strict";var e={982:function(e){e.exports=t}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,r),i.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return function(){r.r(o),r.d(o,{BaseType:function(){return it},ComplexType:function(){return ut},EventHandlers:function(){return hr},LiteVue:function(){return ue},SimpleType:function(){return ct},cannotDetermineSubtype:function(){return tr},createLiteVue:function(){return ce},default:function(){return br},destroy:function(){return g},detach:function(){return m},devMode:function(){return nr},fail:function(){return sr},getEnv:function(){return j},getIdentifier:function(){return S},getParent:function(){return P},getRoot:function(){return k},getTreeNode:function(){return O},getTreeNodeSafe:function(){return _},getType:function(){return w},getVue:function(){return rr},isArray:function(){return cr},isPlainObject:function(){return ar},isPrimitive:function(){return fr},isScalarNode:function(){return d},isTreeNodeValue:function(){return v},isType:function(){return lr},isTypeCheckingEnabled:function(){return er},logError:function(){return pr},normalizeIdentifier:function(){return ur},resolveContext:function(){return ie},resolveDep:function(){return St},setVue:function(){return or},toArray:function(){return ir},toJSON:function(){return b},types:function(){return qn}});var t=r(982),e=r.n(t),n="beforeDestroy";function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=1,a=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,"state",0),u(this,"storedValue",void 0),this._id=c++,this.type=e,this.environment=o,this.baseSetParent(n,r),this.state=1}var e,r;return e=t,(r=[{key:"isAlive",get:function(){return 0!==this.state}},{key:"root",get:function(){var t=this.parent;return t?t.root:this}},{key:"value",get:function(){return this.type.getValue(this)}},{key:"isRoot",get:function(){return null===this.parent}},{key:"fireInternalHook",value:function(t){this._hookSubscribers&&this._hookSubscribers.emit(t,this,t)}},{key:"registerHook",value:function(t,e){return this._hookSubscribers||(this._hookSubscribers=new hr),this._hookSubscribers.register(t,e)}},{key:"baseSetParent",value:function(t,e){this.parent=t,this.subpath=e}},{key:"baseFinalizeDeath",value:function(){this._hookSubscribers&&this._hookSubscribers.clearAll(),this.baseSetParent(null,""),this.state=0}},{key:"baseAboutToDie",value:function(){this.fireHook(n)}}])&&i(e.prototype,r),t}();function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(r);if(o){var n=y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function u(t,e,n,r,o){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(c=i.call(this,t,e,n,o))._initialSnapshot=r,c.storedValue=c.type.createNewInstance(c._initialSnapshot),c}return e=u,(n=[{key:"snapshot",get:function(){return this.type.getSnapshot(this)}},{key:"die",value:function(){this.isAlive&&2!==this.state&&(this.aboutToDie(),this.finalizeDeath())}},{key:"aboutToDie",value:function(){this.baseAboutToDie()}},{key:"finalizeDeath",value:function(){this.baseFinalizeDeath()}},{key:"fireHook",value:function(t){this.fireInternalHook(t)}}])&&s(e.prototype,n),u}(a);function b(){return O(this).snapshot}function v(t){return t&&t.$treenode}function d(t){return t instanceof h}function m(t){return O(t).detach(),t}function g(t){var e=O(t);e.isRoot?e.die():e.parent&&e.parent.removeChild(e.subpath)}function O(t){return t.$treenode}function w(t){return O(t).type}function _(t){return t&&t.$treenode||null}function S(t){return O(t).identifier}function j(t){return O(t).root.environment||{}}function k(t){var e=O(t);if(e)return e.root.storedValue}function P(t,e){for(var n=O(t),r=e=e||1;n;){if(0==e--)return n.storedValue;n=n.parent}throw sr("Failed to find the parent of ".concat(JSON.stringify(t.$toValue?t.$toValue():t)," at depth ").concat(r))}var R=[];function T(t){return"function"==typeof t?"<function".concat(t.name?" "+t.name:"",">"):v(t)?"<".concat(t,">"):"`".concat(function(t){try{return JSON.stringify(t)}catch(t){return"<Unserializable: ".concat(t,">")}}(t),"`")}function C(t){var e=t.value,n=t.context[t.context.length-1].type,r=t.context.map((function(t){return t.path})).filter((function(t){return t.length>0})).join("/"),o=r.length>0?'at path "/'.concat(r,'" '):"",i=v(e)?"value of type ".concat(O(e).type.name,":"):fr(e)?"value":"snapshot",u=n&&v(e)&&n.is(O(e).snapshot);return"".concat(o).concat(i," ").concat(T(e)," is not assignable ").concat(n?"to type: `".concat(n.name,"`"):"")+(t.message?" (".concat(t.message,")"):"")+(n?fr(e)?".":", expected an instance of `".concat(n.name,"` or a snapshot like `").concat(n.describe(),"` instead.")+(u?" (Note that a snapshot of the provided value is compatible with the targeted type)":""):".")}function V(t,e,n){return t.concat([{path:e,type:n}])}function E(){return R}function A(t,e,n){return[{context:t,value:e,message:n}]}function x(t){return t.reduce((function(t,e){return t.concat(e)}),[])}function N(t,e){er()&&function(t,e){var n=t.validate(e,[{path:"",type:t}]);if(n.length>0)throw sr(function(t,e,n){var r;if(0!==n.length)return"Error while converting ".concat((r=T(e),r.length<280?r:"".concat(r.substring(0,272),"......").concat(r.substring(r.length-8)))," to `").concat(t.name,"`:\n\n    ")+n.map(C).join("\n    ")}(t,e,n))}(t,e)}function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var I=0,B=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=rr();this.cacheId=I++,this.cache=new Map,this.lastCacheModificationPerId=e.observable({sett:{}})}var e,n;return e=t,(n=[{key:"updateLastCacheModificationPerId",value:function(t){var e=this.lastCacheModificationPerId.sett[t];rr().set(this.lastCacheModificationPerId.sett,t,void 0===e?1:e+1)}},{key:"getLastCacheModificationPerId",value:function(t){var e=this.lastCacheModificationPerId.sett[t]||0;return"".concat(this.cacheId,"-").concat(e)}},{key:"addNodeToCache",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.identifierAttribute){var n=t.identifier;if(!n)return;this.cache.has(n)||this.cache.set(n,[]);var r=this.cache.get(n);if(-1!==r.indexOf(t))throw sr("Already registered");r.push(t),e&&this.updateLastCacheModificationPerId(n)}}},{key:"removeNodeToCache",value:function(t){if(t.identifierAttribute){var e=t.identifier,n=this.cache.get(e);if(n){var r=n.indexOf(t);-1!==r&&(n.splice(r,1),this.updateLastCacheModificationPerId(e))}}}},{key:"has",value:function(t,e){var n=this.cache.get(e);return!!n&&n.some((function(e){return t.isAssignableFrom(e.type)}))}},{key:"resolve",value:function(t,e){var n=this.cache.get(e);if(!n)return null;var r=n.filter((function(e){return t.isAssignableFrom(e.type)}));switch(r.length){case 0:return null;case 1:return r[0];default:throw sr("Cannot resolve a reference to type '".concat(t.name,"' with id: '").concat(e,"' unambigously, there are multiple candidates: ").concat(r.map((function(t){return t.path})).join(", ")))}}}])&&D(e.prototype,n),t}();function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var M=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cache=new Map}var e,n;return e=t,(n=[{key:"addRef",value:function(t,e){if(e){this.cache.has(e)||this.cache.set(e,[]);var n=this.cache.get(e);if(-1!==n.indexOf(t))throw sr("Already registered");n.push(t)}}},{key:"removeRefs",value:function(t,e,n){var r=this.cache.get(e);if(r){var o=r.indexOf(t);-1!==o&&(r.splice(o,1),n&&this.updateRefs(e))}}},{key:"updateRefs",value:function(t){var e=this.cache.get(t);e&&e.forEach((function(t){return t.value}))}}])&&$(e.prototype,n),t}();function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function z(t,e){return(z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function J(t,e){return!e||"object"!==H(e)&&"function"!=typeof e?L(t):e}function L(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var K=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=W(r);if(o){var n=W(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return J(this,t)});function u(t,e,n,r,o){var c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var a=L(c=i.call(this,t,e,n,o));c._childNodes={},c._initialSnapshot=r,e||(c.identifierCache=new B,c.referenceCache=new M);var f=function(t){a.storedValue=t,t.$treenode||(t.$treenode=a,t.$toValue=b,t.toJSON=b)};if(f(t.createNewInstance(c._initialSnapshot,f)),c.identifierAttribute=t.identifierAttribute,c.identifier=null,c.unnormalizedIdentifier=null,c.identifierAttribute&&c._initialSnapshot){var s=c._initialSnapshot[c.identifierAttribute];if(void 0===s&&(s=c.storedValue[c.identifierAttribute]),"string"!=typeof s&&"number"!=typeof s)throw sr("Instance identifier '".concat(c.identifierAttribute,"' for type '").concat(c.type.name,"' must be a string or a number"));c.identifier=ur(s),c.unnormalizedIdentifier=s}return c.root.identifierCache.addNodeToCache(L(c)),c.root.referenceCache.updateRefs(c.identifier),c}return e=u,(n=[{key:"replaceChildNode",value:function(t,e){this._childNodes[t]=e}},{key:"getChildNodes",value:function(){return this._childNodes}},{key:"removeChildNode",value:function(t){delete this._childNodes[t]}},{key:"getChildren",value:function(){var t=this._childNodes;return Object.keys(t).map((function(e){return t[e]}))}},{key:"clearParent",value:function(){if(this.parent){this.fireHook("beforeDetach");var t=this.state;this.state=2;var e=this.root,n=e.environment,r=e.identifierCache.splitCache(this);try{this.parent.removeChild(this.subpath),this.baseSetParent(null,""),this.environment=n,this.identifierCache=r}finally{this.state=t}}}},{key:"fireHook",value:function(t){this.fireInternalHook(t);var e=this.storedValue&&"object"===H(this.storedValue)&&this.storedValue[t];"function"==typeof e&&e.apply(this.storedValue)}},{key:"detach",value:function(){if(!this.isAlive)throw sr("Error while detaching, node is not alive.");this.clearParent()}},{key:"die",value:function(){this.isAlive&&2!==this.state&&(this.aboutToDie(),this.finalizeDeath())}},{key:"aboutToDie",value:function(){this.getChildren().forEach((function(t){t.aboutToDie()})),this.baseAboutToDie()}},{key:"finalizeDeath",value:function(){this.getChildren().forEach((function(t){t.finalizeDeath()})),this.root.identifierCache.removeNodeToCache(this),this.root.referenceCache.updateRefs(this.identifier),this.baseFinalizeDeath()}},{key:"snapshot",get:function(){return this.type.getSnapshot(this)}}])&&F(e.prototype,n),u}(a);function U(t,e,n,r,o){return new h(t,e,n,r,o)}function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y(t,e,n){return(Y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=tt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function G(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q(t,e)}function Q(t,e){return(Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=tt(t);if(e){var o=tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z(this,n)}}function Z(t,e){return!e||"object"!==q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tt(t){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rt(t,e,n){return e&&nt(t.prototype,e),n&&nt(t,n),t}var ot=["instantiate"],it=function(){function t(e){var n,r,o=this;et(this,t),r=void 0,(n="identifierAttribute")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this.name=e,ot.forEach((function(t){if("function"!=typeof o[t])throw sr('BaseType must realize "'.concat(t,'" methods'))}))}return rt(t,[{key:"create",value:function(t,e){return this.instantiate(null,"",t,e).value}},{key:"isAssignableFrom",value:function(t){return t===this}},{key:"validate",value:function(t,e){if(_(t)){var n=w(t);return this.isAssignableFrom(n)?E():A(e,t)}return this.isValidSnapshot(t,e)}},{key:"is",value:function(t){return 0===this.validate(t,[{path:"",type:this}]).length}}]),t}(),ut=function(t){G(n,t);var e=X(n);function n(){return et(this,n),e.apply(this,arguments)}return rt(n,[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getDefaultSnapshot(),e=arguments.length>1?arguments[1]:void 0;return Y(tt(n.prototype),"create",this).call(this,t,e)}},{key:"instantiate",value:function(t,e,n,r){return function(t,e,n,r,o){return new K(t,e,n,r,o)}(this,t,e,n,r)}},{key:"getDefaultSnapshot",value:function(){return{}}},{key:"getValue",value:function(t){return t.storedValue}},{key:"getSnapshot",value:function(t){return JSON.parse(JSON.stringify(t.storedValue))}}]),n}(it),ct=function(t){G(n,t);var e=X(n);function n(){return et(this,n),e.apply(this,arguments)}return rt(n,[{key:"createNewInstance",value:function(t){return t}},{key:"instantiate",value:function(t,e,n,r){return U(this,t,e,n,r)}},{key:"getDefaultSnapshot",value:function(){}},{key:"getValue",value:function(t){return t.storedValue}},{key:"getSnapshot",value:function(t){return t.storedValue}}]),n}(it);function at(t){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function st(t,e){return(st=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lt(t,e){return!e||"object"!==at(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pt(t){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yt(t){return t}var ht,bt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&st(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=pt(r);if(o){var n=pt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return lt(this,t)});function u(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t)).checker=e,r.initializer=n||yt,r}return e=u,(n=[{key:"describe",value:function(){return this.name}},{key:"createNewInstance",value:function(t){if(this.is(t))return this.initializer(t);throw sr("Value is not a ".concat(this.name))}},{key:"is",value:function(t){return this.checker(t)}},{key:"isValidSnapshot",value:function(t,e){if(fr(t)&&this.checker(t))return E();var n="Date"===this.name?"Date or a unix milliseconds timestamp":this.name;return A(e,t,"Value is not a ".concat(n))}}])&&ft(e.prototype,n),u}(ct),vt=new bt("string",(function(t){return"string"==typeof t})),dt=new bt("number",(function(t){return"number"==typeof t})),mt=new bt("boolean",(function(t){return"boolean"==typeof t})),gt=new bt("null",(function(t){return null===t})),Ot=new bt("undefined",(function(t){return void 0===t})),wt="_$$actualValueForProxySet$$_",_t={Watcher:null,watch:null,Dep:null,Observer:null,pushTarget:null,popTarget:null,isSSR:void 0,EffectScope:void 0};function St(){if(!ht){var t,e,n,r,o,i=rr();ht=new i({data:{obj:{}},computed:{c:function(){return 1}}}),_t.Watcher=null===(t=ht._computedWatchers.c)||void 0===t?void 0:t.constructor,_t.EffectScope=null===(e=ht._scope)||void 0===e?void 0:e.constructor,_t.watch=function(t,e,n,r){return ht.$watch.call(t,e,n,r)},_t.Dep=null===(n=ht.obj.__ob__)||void 0===n?void 0:n.dep.constructor,_t.Observer=null===(r=ht.$data.__ob__)||void 0===r?void 0:r.constructor,_t.isSSR=ht.$isServer,_t.pushTarget=function(t){var e=_t.Dep;e&&(o=e.target,e.target="")},_t.popTarget=function(){var t=_t.Dep;t&&""===t.target&&(t.target=o)}}return _t}function jt(t){return t}function kt(t){return St().Observer&&t instanceof St().Observer}var Pt=Object.prototype.hasOwnProperty;function Rt(t,e){return Pt.call(t,e)}function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ct(t){return t&&"object"===Tt(t)&&wt in t}function Vt(t){return kt(t)?Et(t):function(t){return null==t?t:JSON.parse(JSON.stringify(t))}(t)}function Et(t,e){return JSON.parse(JSON.stringify(function(t){var e=t.$options._dataKeys,n=O(t).getChildNodes();return e.reduce((function(e,r){var o,i=t[r];if(r in n){var u=n[r];o=d(u)?u.snapshot:i.$toValue()}else o=i;return e[r]=o,e}),{})}(t),e))}function At(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xt(t,e,n){return(xt=Nt()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Dt(o,n.prototype),o}).apply(null,arguments)}function Nt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Dt(t,e){return(Dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var It=Array.prototype.slice,Bt=function(t){return t?It.call(t):t},$t={_overwriteParams:function(t){return t},push:function(){var t=this,e=arguments;return this._willChange&&this._willChange("push",e),this.__proto__.push.apply(this,Bt(arguments).map((function(n,r){return t._overwriteParams(n,r,"push",e)})))},splice:function(t,e){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var u=arguments;return this._willChange&&this._willChange("splice",u),this.__proto__.splice.apply(this,[t,arguments.length>=2?e:1/0].concat(Bt(o).map((function(t,e){return n._overwriteParams(t,e,"splice",u)}))))}};function Mt(){var t=xt(Array,Array.prototype.slice.call(arguments));for(var e in $t)t[e]=$t[e];return t}Mt.clone=function(t,e){var n=new Mt;return e&&(n._overwriteParams=e._overwriteParams,n._willChange=e._willChange,e.created&&e.created.call(n)),n.push.apply(n,function(t){return function(t){if(Array.isArray(t))return At(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return At(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?At(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t)),n};var Ht=Mt;function Ft(t){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lt(t,e){return(Lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wt(t,e){return!e||"object"!==Ft(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kt(t){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lt(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Kt(r);if(o){var n=Kt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Wt(this,t)});function u(t,e){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),n=i.call(this,t),!e)throw sr("expected type as argument 1, got ".concat(e," instead"));return n._subType=e,n}return e=u,(n=[{key:"describe",value:function(){return this._subType.describe()+"[]"}},{key:"createNewInstance",value:function(t,e){var n=this._subType;return Ht.clone(t,{created:function(){e&&e(this)},_willChange:function(t,e){var n=O(this),r=this.length;switch(t){case"splice":!function(){var t,o=function(t){if(Array.isArray(t))return t}(t=e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return zt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],u=o[1],c=o.slice(2),a=0,f=c.length;if("number"==typeof i){for(var s=(u="number"==typeof u?u:1/0)-1;s>=0;s--){if(i+s>r)return;a++,!(c.length>=s+1&&Ct(c[s]))&&(n.getChildNodes()[i+s].die(),n.removeChildNode(i+s))}for(var l={},p=r-i-a;p>0;p--){var y=i+a+p-1,h=i+f-1+p;y!==h&&(l[h]=n.getChildNodes()[y],n.removeChildNode(y))}Object.keys(l).forEach((function(t){return n.replaceChildNode(t,l[t])}))}}()}},_overwriteParams:function(t,e,r,o){var i=O(this),u=this.length;switch(r){case"splice":e+=o[0]||0;break;default:e+=u}if(Ct(t)){var c=t[wt];return delete t[wt],c}var a=n.instantiate(i,"".concat(i.subpath,"/").concat(e),t);return i.replaceChildNode(e,a),a.value}})}},{key:"getSnapshot",value:function(t){var e=t.getChildNodes();return t.storedValue.map((function(t,n){var r=e[n];return d(r)?r.snapshot:Vt(t)}))}},{key:"isValidSnapshot",value:function(t,e){var n=this;return cr(t)?x(t.map((function(t,r){return n._subType.validate(t,V(e,""+r,n._subType))}))):A(e,t,"Value is not an array")}}])&&Jt(e.prototype,n),u}(ut);function qt(t,e,n){n&&n[e]&&n[e].call(t),Yt(t,e)}function Yt(t,e){var n=t.$options[e],r=n&&n.length;if(r){var o=St(),i=o.pushTarget,u=o.popTarget;i();for(var c=0;c<r;c++)n[c].call(t);u()}}var Gt={lazy:!0},Qt={enumerable:!0,configurable:!0,get:jt,set:jt};function Xt(t,e,n,r){Qt.get=function(){return this[e][n]},Qt.set=r||function(t){this[e][n]=t},Object.defineProperty(t,n,Qt)}function Zt(t,e,n){var r=!St().isSSR;"function"==typeof n?(Qt.get=r?te(e):ee(n),Qt.set=jt):(Qt.get=n.get?r&&!1!==n.cache?te(e):ee(n.get):jt,Qt.set=n.set||jt),Object.defineProperty(t,e,Qt)}function te(t){var e=St().Dep;return function(){var n=this._computedWatchers&&this._computedWatchers[t];if(n)return n.dirty&&n.evaluate(),e&&e.target&&n.depend(),n.value}}function ee(t){return function(){return t.call(this,this)}}function ne(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function re(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var oe=1;function ie(t){var e=rr(),n={};t&&t._isComponent?console.error("options._isComponent"):n=e.util.mergeOptions(n,t||{},n);var r=n.data;return r=Object.assign({},"function"==typeof r?r():r),n._dataKeys=Object.keys(r),n._getData=function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ne(Object(n),!0).forEach((function(e){re(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},r)},{data:r,options:n}}function ue(t,e,n){var r=this,o=St().EffectScope;e=e||ie(t),r.$options=e.options,r._uid=oe++,r._isVue=!0,r.__v_skip=!0,o&&(r._scope=new o(!0),r._scope._vm=!0),function(t){t._isDestroyed=!1,t._isBeingDestroyed=!1}(r),qt(r,"beforeCreate",n),function(t,e){t._watchers=[];var n=t.$options;n.methods&&function(t,e){for(var n in e)t[n]="function"!=typeof e[n]?jt:(r=t,e[n].bind(r));var r}(t,n.methods),function(t){var e,n=rr(),r=t.$options._getData();ar(r)||(r={}),t._data=r;for(var o=Object.keys(r),i=t.$options.props,u=(t.$options.methods,o.length);u--;){var c=o[u];i&&Rt(i,c)||(e=void 0,36===(e=(c+"").charCodeAt(0))||95===e)||Xt(t,"_data",c)}n.observable(r)}(t),qt(t,"inited",e),n.computed&&function(t,e){var n=St(),r=n.Watcher,o=n.isSSR,i=t._computedWatchers=Object.create(null);for(var u in e){var c=e[u],a="function"==typeof c?c:c.get;o||(i[u]=new r(t,a||jt,jt,Gt)),u in t||Zt(t,u,c)}}(t,n.computed)}(r,n),qt(r,"created",n)}function ce(t,e,n){return new ue(t,e,n)}function ae(t){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function se(t,e){return(se=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function le(t,e){return!e||"object"!==ae(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pe(t){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ye(t){return"string"==typeof t||"number"==typeof t}ue.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Yt(t,"beforeDestroy"),t._isBeingDestroyed=!0,t._watcher&&t._watcher.teardown();for(var e=t._watchers.length;e--;)t._watchers[e].teardown();t.__ob__&&t.__ob__.vmCount--,t._isDestroyed=!0,Yt(t,"destroyed")}};var he=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&se(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=pe(r);if(o){var n=pe(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return le(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,"identifier")).validType=t,e}return e=u,(n=[{key:"describe",value:function(){return"identifier"}},{key:"createNewInstance",value:function(t){return N(this,t),t}},{key:"isValidSnapshot",value:function(t,e){return ae(t)!==this.validType?A(e,t,"Value is not a valid ".concat(this.describe(),", expected a ").concat(this.validType)):E()}}])&&fe(e.prototype,n),u}(ct),be=new he("string"),ve=new he("number");function de(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function me(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oe(t,e){return(Oe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function we(t,e){return!e||"object"!==Se(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _e(t){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Se(t){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var je=function(t,e){return e};function ke(t){return ie(t=Object.assign({},t))}ue.prototype.beforeDestroy=function(){this.$destroy()},ue.prototype.$assign=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:je,n=this.$options._dataKeys;if(t&&"object"===Se(t))for(var r in t)-1!==n.indexOf(r)&&(this[r]=e(r,t[r]))};var Pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oe(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_e(r);if(o){var n=_e(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return we(this,t)});function u(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var n=(e=i.call(this,t.name||"AnonymousModel")).properties={};if(t.data&&"object"===Se(t.data)){var r=t.data;t.data=function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?de(Object(n),!0).forEach((function(e){me(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},r)}}var o=(e.context=ke(t)).data;for(var c in o){var a=o[c];lr(a)&&(n[c]=a,o[c]=void 0,!e.identifierAttribute&&a instanceof he&&(e.identifierAttribute=c))}return e.propertyNames=Object.keys(e.properties),e}return e=u,(n=[{key:"describe",value:function(){var t=this;return"{ "+this.propertyNames.map((function(e){return e+": "+t.properties[e].describe()})).join("; ")+" }"}},{key:"resolveValue",value:function(t){return t}},{key:"createNewInstance",value:function(t,e){var n,r=this,o=this.context,i=this.properties,u=this.propertyNames;return new ue(null,{data:Object.assign({},o.data),options:o.options},{inited:function(){n=this,e&&e(n);var c=r.resolveValue(t);u.forEach((function(t){return function(t,e,n){Xt(t,"_data",n,(function(t){if(Ct(t)){var r=t[wt];delete t[wt],t=r}else{var o=this._data[n];o&&O(o)&&O(o).die(),t=function(t,e,n,r){N(e,r);var o=O(t),i=e.instantiate(o,"".concat(o.subpath,"/").concat(n),r);return o.replaceChildNode(n,i),i}(this,e,n,t).value}this._data[n]=t}))}(n,i[t],t)})),n.$options._dataKeys.forEach((function(t){n[t]=t in c?c[t]:t in i?void 0:o.data[t]}))},created:function(){this._beforeCreateData&&this.$assign(this._beforeCreateData)}}),n}},{key:"getSnapshot",value:function(t){return Et(t.storedValue)}},{key:"isValidSnapshot",value:function(t,e){var n=this;return ar(t)?x(this.propertyNames.map((function(r){return n.properties[r].validate(t[r],V(e,r,n.properties[r]))}))):A(e,t,"Value is not a plain object")}}])&&ge(e.prototype,n),u}(ut);function Re(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r="string"==typeof e[0]&&e.shift(),o=e.shift()||{};return new Pe(Object.assign({},o,{name:r||o.name}))}function Te(t){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ve(t,e){return(Ve=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ee(t,e){return!e||"object"!==Te(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ae(t){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xe=["value"],Ne=[],De=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ve(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ae(r);if(o){var n=Ae(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ee(this,t)});function u(t,e,n){var r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),r=i.call(this,t),void 0===n)throw sr("expected type or literal as argument 1, vue component options as argument 2, but only one was received.");return r.context=ke(Object.assign({},n,{data:function(){return{value:e}}})),lr(e)?(r._subType=e,r.propertyNames=xe,r.properties={value:e}):r.propertyNames=Ne,r}return e=u,(n=[{key:"describe",value:function(){return this.name}},{key:"resolveValue",value:function(t){var e=this.context.data.value,n=Te(e);return{value:this._subType||Te(t)===Te(e)||"undefined"===n||null===e?t:e}}},{key:"createNewInstance",value:function(){return Pe.prototype.createNewInstance.apply(this,arguments)}},{key:"getSnapshot",value:function(t){return Vt(t.storedValue.value)}},{key:"isValidSnapshot",value:function(t,e){return this._subType?this._subType.validate(t,e):E()}}])&&Ce(e.prototype,n),u}(ut);function Ie(t,e,n){return arguments.length<3&&(n=e,e=t,t="AnonymousVo"),new De(t,e,n)}function Be(){return{mixins:ir(arguments).map((function(t){var e=Object.assign({},t.context.options);return delete e.mixins,delete e._dataKeys,e}))}}function $e(t){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function He(t,e){return(He=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fe(t,e){return!e||"object"!==$e(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ze(t){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Je=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&He(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ze(r);if(o){var n=ze(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Fe(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,JSON.stringify(t))).literal=t,e}return e=u,(n=[{key:"describe",value:function(){return JSON.stringify(this.literal)}},{key:"createNewInstance",value:function(t){return N(this,t),this.literal}},{key:"isValidSnapshot",value:function(t,e){return fr(t)&&t===this.literal?E():A(e,t,"Value is not a literal ".concat(JSON.stringify(this.value)))}}])&&Me(e.prototype,n),u}(ct);function Le(t){return new Je(t)}function We(t){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ue(t,e){return(Ue=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qe(t,e){return!e||"object"!==We(e)&&"function"!=typeof e?Ye(t):e}function Ye(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ge(t){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Qe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ue(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ge(r);if(o){var n=Ge(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return qe(this,t)});function u(t,e){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),!0,(o="_eager")in(r=Ye(n=i.call(this,t)))?Object.defineProperty(r,o,{value:true,enumerable:!0,configurable:!0,writable:!0}):r[o]=true,n._types=e,n}return e=u,(n=[{key:"describe",value:function(){return"("+this._types.map((function(t){return t.describe()})).join(" | ")+")"}},{key:"instantiate",value:function(t,e,n,r){var o=this.determineType(n,void 0);if(!o)throw sr("No matching type for union "+this.describe());return o.instantiate(t,e,n,r)}},{key:"determineType",value:function(t,e){return e?e.is(t)?e:this._types.filter((function(t){return t!==e})).find((function(e){return e.is(t)})):this._types.find((function(e){return e.is(t)}))}},{key:"getSnapshot",value:function(t){return t.type.getSnapshot(t)}},{key:"isAssignableFrom",value:function(t){return this._types.some((function(e){return e.isAssignableFrom(t)}))}},{key:"isValidSnapshot",value:function(t,e){for(var n=[],r=0,o=0;o<this._types.length;o++){var i=this._types[o].validate(t,e);if(0===i.length){if(this._eager)return E();r++}else n.push(i)}return 1===r?E():A(e,t,"No type is applicable for the union").concat(x(n))}}])&&Ke(e.prototype,n),u}(ut);function Xe(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=lr(t)?[t].concat(n):n;return lr(t)&&(t="("+o.map((function(t){return t.name})).join(" | ")+")"),new Qe(t,o)}function Ze(t){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tn(t,e){return(tn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function en(t,e){return!e||"object"!==Ze(e)&&"function"!=typeof e?nn(t):e}function nn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rn(t){return(rn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function on(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function un(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cn(t,e,n){return e&&un(t.prototype,e),n&&un(t,n),t}function an(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fn=function(){function t(e,n){if(on(this,t),an(this,"identifier",void 0),an(this,"resolvedReference",void 0),this.targetType=n,ye(e))this.identifier=e;else if(v(e)){var r=O(e);if(!r.identifierAttribute)throw sr("Can only store references with a defined identifier attribute.");var o=r.unnormalizedIdentifier;null==o&&pr(sr("Can only store references to tree nodes with a defined identifier.")),this.identifier=o}else pr(sr("Can only store references to tree nodes or identifiers, got: '".concat((i=e,JSON.stringify(kt(i)?Et(i):i)),"'")));var i}return cn(t,[{key:"updateResolvedReference",value:function(t){var e=ur(this.identifier),n=t.root,r=n.identifierCache.getLastCacheModificationPerId(e);if(!this.resolvedReference||this.resolvedReference.lastCacheModification!==r){var o=this.targetType,i=n.identifierCache.resolve(o,e);i||(i={}),this.resolvedReference={node:i,lastCacheModification:r}}}}]),t}(),sn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tn(t,e)}(i,t);var e,r,o=(e=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=rn(e);if(r){var o=rn(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return en(this,t)});function i(t){var e;return on(this,i),an(nn(e=o.call(this,"reference(".concat(t.name,")"))),"targetType",void 0),e.targetType=t,e}return cn(i,[{key:"describe",value:function(){return this.name}},{key:"isAssignableFrom",value:function(t){return this.targetType.isAssignableFrom(t)}},{key:"instantiate",value:function(t,e,n,r){var o,i=v(n)?S(n):d(n)?n.identifier:n;N(this,i);var u=function(t,e,n){var r=new fn(t,e),o=new(rr())({data:{isMounted:!1},computed:{ref:function(){return r},resolvedValue:function(){if(this.isMounted){r.updateResolvedReference(this.node);var t=r.resolvedReference.node.value;return n&&n(t),t}}},watch:{resolvedValue:function(){}}});return o.node=null,o}(i,this.targetType,(function(n){var r=e.match(/([^/]+)$/)[0],i=t.storedValue;o!==n&&(o=n,i[r]!==n&&(n?n[wt]=n:(c[wt]=n,n=c),r in i?i instanceof Array?i.splice(+r,1,n):i[r]=n:(i._beforeCreateData=i._beforeCreateData||{},i._beforeCreateData[r]=n)))})),c=U(this,t,e,u,r);return c.identifier=i,u.node=c,u.isMounted=!0,this.watchTargetNodeForInvalidations(c,i,t,u),c}},{key:"watchTargetNodeForInvalidations",value:function(t,e,r,o){var i=this;t.root.referenceCache.addRef(t,e),t.registerHook(n,(function(){r.root.referenceCache.removeRefs(i,e),o.$destroy()}))}},{key:"getValue",value:function(t){if(t.isAlive)return t.storedValue.resolvedValue}},{key:"getSnapshot",value:function(t){return t.storedValue.ref.identifier}},{key:"isValidSnapshot",value:function(t,e){return ye(t)?E():A(e,t,"Value is not a valid identifier, which is a string or a number")}}]),i}(ct);function ln(t){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yn(t,e){return(yn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hn(t,e){return!e||"object"!==ln(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bn(t){return(bn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vn=[void 0],dn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yn(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bn(r);if(o){var n=bn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return hn(this,t)});function u(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t.name)).subtype=t,r.defaultValue=e,r.optionalValues=n,r}return e=u,(n=[{key:"describe",value:function(){return this.subtype.describe()+"?"}},{key:"instantiate",value:function(t,e,n,r){if(this.optionalValues.indexOf(n)>=0){var o=this.getDefaultInstanceOrSnapshot();return this.subtype.instantiate(t,e,o,r)}return this.subtype.instantiate(t,e,n,r)}},{key:"getDefaultInstanceOrSnapshot",value:function(){return"function"==typeof this.defaultValue?this.defaultValue():this.defaultValue}},{key:"isAssignableFrom",value:function(t){return this.subtype.isAssignableFrom(t)}},{key:"isValidSnapshot",value:function(t,e){return this.optionalValues.indexOf(t)>=0?E():this.subtype.validate(t,e)}},{key:"getSubType",value:function(){return this.subtype}}])&&pn(e.prototype,n),u}(it);function mn(t,e,n){return function(t){if("function"!=typeof t&&v(t))throw sr("default value cannot be an instance, pass a snapshot or a function that creates an instance/snapshot instead")}(t),new dn(t,e,n||vn)}var gn=mn(Ot,void 0),On=mn(gt,null);function wn(t){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sn(t,e){return(Sn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jn(t,e){return!e||"object"!==wn(e)&&"function"!=typeof e?kn(t):e}function kn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pn(t){return(Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sn(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Pn(r);if(o){var n=Pn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return jn(this,t)});function u(t,e){var n,r,o,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),c=void 0,(o="_subType")in(r=kn(n=i.call(this,t)))?Object.defineProperty(r,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[o]=c,n._definition=e,n}return e=u,(n=[{key:"getSubType",value:function(t){if(!this._subType){var e=void 0;try{e=this._definition()}catch(t){if(!(t instanceof ReferenceError))throw t;e=void 0}if(t&&void 0===e)throw sr("Late type seems to be used too early, the definition (still) returns undefined");e&&(this._subType=e)}return this._subType}},{key:"instantiate",value:function(t,e,n,r){return this.getSubType(!0).instantiate(t,e,n,r)}},{key:"describe",value:function(){var t=this.getSubType(!1);return t?t.name:"<uknown late type>"}},{key:"isValidSnapshot",value:function(t,e){var n=this.getSubType(!1);return n?n.validate(t,e):E()}},{key:"isAssignableFrom",value:function(t){var e=this.getSubType(!1);return!!e&&e.isAssignableFrom(t)}},{key:"getSubTypes",value:function(){return this.getSubType(!1)||tr}}])&&_n(e.prototype,n),u}(it);function Tn(t){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vn(t,e){return(Vn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function En(t,e){return!e||"object"!==Tn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function An(t){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vn(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=An(r);if(o){var n=An(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return En(this,t)});function u(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,t.name)}return e=u,(n=[{key:"describe",value:function(){return this.name}},{key:"isValidSnapshot",value:function(t,e){if(this.options.isTargetType(t))return E();var n=this.options.getValidationMessage(t);return n?A(e,t,"Invalid value for type '".concat(this.name,"': ").concat(n)):E()}},{key:"getSnapshot",value:function(t){return this.options.toSnapshot(t.storedValue)}},{key:"instantiate",value:function(t,e,n,r){return U(this,t,e,this.options.isTargetType(n)?n:this.options.fromSnapshot(n,t&&t.root.environment),r)}}])&&Cn(e.prototype,n),u}(ct);function Nn(t){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function In(t,e){return(In=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Bn(t,e){return!e||"object"!==Nn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $n(t){return($n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Mn=new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&In(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=$n(r);if(o){var n=$n(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Bn(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,"func",(function(t){return"function"==typeof t}))}return e=u,(n=[{key:"isValidSnapshot",value:function(t,e){return this.checker(t)?E():A(e,t,"Value is not a ".concat(this.name))}}])&&Dn(e.prototype,n),u}(bt));function Hn(t){return(Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zn(t,e){return(zn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Jn(t,e){return!e||"object"!==Hn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ln(t){return(Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zn(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ln(r);if(o){var n=Ln(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Jn(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,"any"))._defualtValue=t,e}return e=u,(n=[{key:"describe",value:function(){return this.name}},{key:"createNewInstance",value:function(t){return void 0===t?this._getDefault():t}},{key:"is",value:function(){return!0}},{key:"isValidSnapshot",value:function(){return E()}},{key:"_getDefault",value:function(){return"function"==typeof this._defualtValue?this._defualtValue():this._defualtValue}}])&&Fn(e.prototype,n),u}(ct);function Kn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Un,qn={string:vt,number:dt,boolean:mt,nullType:gt,undefinedType:Ot,vue:Re,vo:Ie,array:function(t){return new Ut(t.name+"[]",t)},literal:Le,union:Xe,compose:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r="string"==typeof e[0]?e.shift():"AnonymousModel(compose)";return Re(r,Be.apply(void 0,e))},composeVo:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Ie(e[e.length-1]._subType,Be.apply(void 0,e))},identifier:be,identifierNumber:ve,reference:function(t){return new sn(t)},optional:mn,maybe:function(t){return Xe(t,gn)},maybeNull:function(t){return Xe(t,On)},late:function(t,e){var n="string"==typeof t?t:"late(".concat(t.toString(),")");return new Rn(n,"string"==typeof t?e:t)},custom:function(t){return new xn(t)},func:Mn,any:new Wn,anyValue:function(t){return new Wn(t)},enumeration:function(t,e){var n,r="string"==typeof t?e:t,o=Xe.apply(void 0,function(t){if(Array.isArray(t))return Kn(t)}(n=r.map((function(t){return Le(""+t)})))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return Kn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kn(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return"string"==typeof t&&(o.name=t),o}};function Yn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qn(t,e,n){return e&&Gn(t.prototype,e),n&&Gn(t,n),t}function Xn(t){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Zn=Object.toString(),tr="cannotDetermine";function er(){return"undefined"!=typeof process&&process.env&&"true"===process.env.ENABLE_TYPE_CHECK}function nr(){return!1}function rr(){var t=Un||e()||window.Vue;if(!t)throw new Error("\n      \"Vue-data-model\" depends on Vue, window.vue was not found.\n      Please use \"Vue.use()\" to inject Vue dependencies in your app.\n      For example:\n\n      import Vue from 'vue';\n      import VDM from 'vue-data-model';\n      Vue.use(VDM);\n    ");return t}function or(t){Un=t}function ir(t){return Array.prototype.slice.call(t)}function ur(t){return""+t}function cr(t){return Array.isArray(t)||t instanceof Ht}function ar(t){if(null===t||"object"!==Xn(t))return!1;var e=Object.getPrototypeOf(t);return null==e||e.constructor&&e.constructor.toString()===Zn}function fr(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null==t||!!("string"==typeof t||"number"==typeof t||"boolean"==typeof t||e&&t instanceof Date)}function sr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Illegal state";return new Error("[vue-data-model] "+t)}function lr(t){return t instanceof it}function pr(t){console.error(t)}var yr=function(){function t(){Yn(this,t),this.handlers=[]}return Qn(t,[{key:"hasSubscribers",get:function(){return this.handlers.length>0}},{key:"register",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n?this.handlers.unshift(t):this.handlers.push(t),function(){e.unregister(t)}}},{key:"has",value:function(t){return this.handlers.indexOf(t)>=0}},{key:"unregister",value:function(t){var e=this.handlers.indexOf(t);e>=0&&this.handlers.splice(e,1)}},{key:"clear",value:function(){this.handlers.length=0}},{key:"emit",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=this.handlers.slice();r.forEach((function(t){return t.apply(void 0,e)}))}}]),t}(),hr=function(){function t(){Yn(this,t)}return Qn(t,[{key:"hasSubscribers",value:function(t){var e=this.eventHandlers&&this.eventHandlers[t];return!!e&&e.hasSubscribers}},{key:"register",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.eventHandlers||(this.eventHandlers={});var r=this.eventHandlers[t];return r||(r=this.eventHandlers[t]=new yr),r.register(e,n)}},{key:"has",value:function(t,e){var n=this.eventHandlers&&this.eventHandlers[t];return!!n&&n.has(e)}},{key:"unregister",value:function(t,e){var n=this.eventHandlers&&this.eventHandlers[t];n&&n.unregister(e)}},{key:"clear",value:function(t){this.eventHandlers&&delete this.eventHandlers[t]}},{key:"clearAll",value:function(){this.eventHandlers=void 0}},{key:"emit",value:function(t){var e=this.eventHandlers&&this.eventHandlers[t];if(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit.apply(e,r)}}}]),t}(),br={install:or}}(),o}()}));